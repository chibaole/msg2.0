{"version":3,"sources":["webpack:///src/pages/groupPj/order/index.vue","webpack:///./src/pages/groupPj/order/index.vue?8bac","webpack:///./~/vue2-countdown/lib/vue2-countdown.vue","webpack:///./src/pages/groupPj/order/index.vue?1b7b","webpack:///./~/vue2-countdown/lib/vue2-countdown.vue?74e9","webpack:///./src/pages/groupPj/order/index.vue","webpack:///./src/pages/groupPj/order/main.js","webpack:///node_modules/vue2-countdown/lib/vue2-countdown.vue"],"names":["app","$mount","config","enablePullDownRefresh"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;;AACA;AACA;AACA;AACA;AACA;AACA;;wBAIA;;;aAGA;eACA;iBAEA;AAJA;iBAKA;iBACA;gBACA;gBACA;;kBAGA;aACA;iBAEA;AAJA,OADA;kBAOA;aACA;iBAEA;AAJA;kBAMA;aACA;iBAGA;AALA;kBAMA;eACA;gBACA;oBACA;iBACA;gBACA;gBACA;mCACA;sCACA;qEAEA;AArCA;AAsCA;;;AAEA;AAKA;;AANA;;;wBAQA;;qBAEA;oBACA;mBACA;oBACA;mBACA;yCACA;sBACA;AACA;mCACA;sBACA;sBACA;AAEA;AAbA;AAcA;;AAEA;;;;;;;;;AACA;AAEA;;uBACA;8CACA;uCACA;;4BACA;;+IACA;;;;;4BACA;2DAGA;;;;;;;;;AACA;;;AAGA;sCACA;mCAEA;;;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;2BAhBA,CAkBA;;4DAEA;;yDAEA;;sDAEA;;sBACA;wBACA;0BACA;mCAGA;AACA;AACA,4BACA;iBACA;;AAEA;AAEA;;+CACA;uBACA;iBACA;4DACA;kCAEA;;;kBAEA;wBACA;eAGA;AALA;;uBAOA;;gCAEA;;qCAEA;;kBAEA;;kDACA;oBACA;yBACA;sCACA;yDAEA;;oBAEA;;yBAGA;AACA;6BACA;gCAEA;;6BAGA;oBACA;AAEA;;AACA,gCACA;AACA;AAGA;AACA;AACA;;;;;;;;AACA;;;;;AACA;AACA;mCACA;;4BACA;kCAEA;;;;;;;;;AAEA;AACA,oCACA;uBACA;2BAEA;AAGA;AACA;AACA;;;;;;;;AACA;4BACA;uBACA;8BACA;;kIACA;;;;4CACA;;;yBAEA;0BACA;yBACA;;;AAGA;AACA;0BACA;gCACA;yBACA;0BACA;2BACA;4BAGA;;;AACA;AACA;0BACA;oGACA;yBACA;0BACA;2BACA;4BAEA;;;;;AAIA;AACA;AACA;0BACA;sDACA;8BACA;gCACA;2BACA;+BACA;yBACA;0BACA;2BACA;sCACA;qCACA;iCAIA;;0BAEA;mCACA;8BACA;2BACA;+BACA;yBACA;0BACA;4BAEA;AATA;0BAWA;6BACA;8BACA;2BACA;+BACA;yBACA;qCAGA;;AATA;0BAWA;mCACA;mCACA;2BACA;+BACA;+BACA;sCACA;oCAGA;AAVA;0BAYA;6BACA;mCACA;2BACA;+BACA;+BACA;+BACA;qCACA;mCACA;+BACA;iCAEA;AAZA;0BAcA;yBACA;+BACA;gCACA;gCACA;iCAEA;AAPA;0BASA;6BACA;mCACA;2BACA;+BACA;+BACA;gCACA;qCACA;mCACA;+BACA;iCAKA;AAfA;AAlGA;qDAkHA;;uBAGA;AAFA;;;;;;;;;AAGA;;AACA;;;;;;;;4BACA;AACA;uBACA;4BACA;uDAEA;;4BACA;;uCACA;;;;;;uBACA;;;;;4BACA;8CACA;;kCAEA;+CACA;4CACA;8CACA;sCACA;4CACA;yCAIA;;AAVA;;;yCAWA;;sIAEA;;;;;;;wEAIA;AAHA;;;;;4BAQA;;;;;;;;;AACA;wCACA;AACA;;AAGA;AAFA;AAOA;AArTA;AAsTA;AACA;;;;;;;;0BACA;AAEA;8FACA;;iDACA;0BAEA;;mDACA;4DAEA;;2IAEA;;;;mEAEA;;uEAEA;;8CACA;gCACA;AAEA;;uDAEA;;uLACA;4BACA;qDAEA;AAEA;;0CAIA;;mBACA;;;;;;;;;AACA;AACA;AAGA;;;;;;;;;;;;;AAEA;gDACA,KACA;eACA;oBAEA;;+BACA;AACA;sBACA;AACA;;6BAEA;4EAEA;AAHA;AAKA;AA9ZA,G;;;;;;;AChGA,yC;;;;;;;;;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACsO;AACtO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;;ACvCA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG,iFAAiF;AACpF;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,oCAAoC,aAAa,0BAA0B;AAC3E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;ACvKA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;ACZA;AAAA;AACA;AACA;AACA,yBAAob;AACpb;AACA;AACA;AACA;AACA;AACwP;AACxP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;;;;;;AC3CA;AACA;;AAEA,IAAIA,MAAM,IAAI,2CAAJ,CAAQ,uDAAR,CAAV;AACAA,IAAIC,MAAJ;;AAEA,+DAAe;AACbC,UAAQ;AACNC,2BAAuB;AADjB;AADK,CAAf,E;;;;;;;;;;;;;;;;;;;;ACQA;;;WAEA;wBACA;;eAEA;gBACA;qBACA;iBACA;kBACA;qBACA;oBAEA;;gBACA;eACA;kBAEA;AAZA;AAaA;;;mDAEA;WACA;AAEA;AAJA;;AAMA;;YAEA;eAEA;AAHA;AAIA;;YAEA;eAEA;AAHA;AAIA;;YAEA;eAEA;AAHA;AAIA;;YAGA;AAFA;AAGA;;YAGA;AAFA;AAGA;;YAGA;AAFA;AAGA;;YAEA;eAEA;AAHA;AAIA;;YAEA;eAEA;AAHA;AAIA;;YAEA;eAEA;AAHA;AAIA;;YAEA;eAEA;AAHA;;YAKA;eAEA;AAHA;AAIA;;YAEA;eAGA;AAJA;AArDA;8BA0DA;gBACA;SACA;AACA;;;;AAEA;;AACA;oGACA;8FACA;4BACA;gHACA;aACA;kCACA;AAEA;;mCACA;AAGA;;;2BACA;aACA;AACA,2CACA;AAGA;;;mCACA;+BACA;yDACA;WACA;AACA,mGACA;AAGA;;;mCACA;2BACA;iDACA;+BACA;kEACA;WACA;AACA;AACA;;AACA;;wBACA;qCACA;4BACA;2BACA;+CACA;qCACA;gDACA;sCACA;mDACA;yCACA;;AAEA;iEACA;yCAEA;;8BACA;qCACA;AACA;iCACA;wCACA;AACA;iCACA;wCACA;AACA;sBACA;sBACA;+BACA;+BACA;oBACA;iEACA;iBACA;yDACA;AACA;kBACA;AACA,aACA;AACA;AACA;AACA;;AACA;;iCACA;+CACA;6BACA;oEACA;SACA;AACA;wCACA;yBACA;iCACA;AACA;AACA;6CACA;AAEA;AA7FA;AApFA,G","file":"static/js/pages/groupPj/order/main.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <Navbar :navbar_title=\"navbar_title\"></Navbar>\n    <!--<Card ></Card>-->\n    <!--<Card :order_info=\"order_info\"></Card>-->\n    <div class=\"wrap\">\n      <div class=\"pj-info\">\n        <div class=\"left\">\n          <img src=\"http://oxl5leo53.bkt.clouddn.com/u=660634825,1514502894&fm=11&gp=0.jpg\" alt=\"\">\n        </div>\n        <div class=\"right\">\n\n\n          <h2><div class=\"mark\">{{order_info.group_activity.group_type}}</div>{{order_info.group_activity.title}}</h2>\n          <p><span>¥{{order_info.group_activity.current_price}}</span><span>¥{{order_info.group_activity.original_price}}</span></p>\n        </div>\n      </div>\n    </div>\n\n\n    <!--订单详情-->\n    <div class=\"detail-order\">\n      <h2><span>{{order_info.status_display}}</span><span class=\"refund\" >已退款</span></h2>\n      <div class=\"order-info\">\n        <div class=\"text\">还差<span>{{order_info.users_left}}</span>人参团,\n          <span>{{time.day}}</span>天\n          <span>{{time.hours}}</span>时\n          <span>{{time.minutes}}</span>分后结束\n        </div>\n\n      </div>\n\n      <div class=\"user\">\n        <div class=\"pic\" v-for=\"item in order_info.users\"><img :src=\"item.avatar_url\" alt=\"\"><span class=\"mark\" v-if=\"item.is_initiator\">团长</span></div>\n      </div>\n      <div class=\"group_res\" v-if=\"order_info.status == 'success'\" @click=\"fillAddress\">去填地址</div>\n      <div class=\"line\"></div>\n\n      <div class=\"group\">\n        <h2 class=\"group-game\">拼团玩法</h2>\n        <p class=\"step1\">1.免费领取 但要完成小作业，写食用反馈。</p>\n        <p class=\"step2\">2.领取成功后，请扫码加群等待发货哦。</p>\n      </div>\n      <div class=\"line\"></div>\n\n      <div class=\"pjDetail\">\n        商品详情\n        <rich-text :nodes=\"order_info.detail\" ></rich-text>\n\n      </div>\n    </div>\n\n    <!--------------------------------------------------------------------------->\n    <div class=\"btn open_btn\" @click=\"shareMenu\" data-status=\"1\" ><span>邀请好友一起享用</span></div>\n    <div class=\"btn open_btn\" @click=\"createGroup\" data-status=\"1\" v-if=\"group_activity_initials_finish\"><span>重新开团</span></div>\n\n    <div class=\"mask\" v-if=\"showBox\">  <!-- 遮罩-->\n\n      <div class=\"meunBox\" v-if=\"showBox\">\n        <img class=\"x\" src=\"../../../../static/img/close2.png\" alt=\"\" @click=\"shareMenu\">\n\n        <div class=\"title\">分享加速抽奖</div>\n\n        <button class=\"friend\" open-type=\"share\">\n          <img src=\"../../../../static/img/wechatF.png\" alt=\"\">\n        </button>\n\n        <div class=\"createImg\" @click=\"getImg\">\n          <img src=\"../../../../static/img/wechatimg.png\" alt=\"\">\n        </div>\n        <div class=\"wechatFriend\" open-type=\"share\">微信好友</div>\n        <div class=\"shengchengImg\" @click=\"getImg\">生成分享图片</div>\n\n      </div>  <!--框 弹出的选择-->\n\n\n    </div>\n    <!--参团底部button-->\n    <div class=\"pay\" v-if=\"scanCode\" >\n      <div class=\"price\">¥{{order_info.current_price}}<span>还剩{{}}</span></div>\n      <div class=\"join-group\" @click=\"attendGroup\" :data-uuid=\"order_info.uuid\" >一键参与</div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n  import Card from '@/components/groupCard'\n  import CountDown from 'vue2-countdown'\n  import Navbar from '@/components/navbar'\n  import {showModal} from '@/utils/util'\n  import {chooseAddress} from '@/utils/wx'\n  import config from '@/config'\n  export default {\n\n\n    data() {\n      return {\n        time: {\n          day: '',\n          hours: '',\n          minutes: ''\n        },\n        showshare: true,\n        showModal: false,\n        groupNum: 1,\n        groupuer: [],\n        team: [\n          {\n            nickname: '张三',\n            pic: '../../../../static/img/unlogin.png',\n            captain: true\n          },\n          {\n            nickname: '赵四',\n            pic: '../../../../static/img/unlogin.png',\n            captain: false\n          },\n          {\n            nickname: '王五',\n            pic: '../../../../static/img/unlogin.png',\n            captain: false\n          }\n        ],\n        order_info: {},\n        showBox: false,\n        painting: {},\n        navbar_title: '团购',\n        orderIdId:'',\n        myDetail:'',\n        scanCode:false,\n        group_activity_initial_uuid:'',\n        group_activity_initials_finish:false,\n        host:config.host\n      }\n    },\n    components: {\n      Card,\n      Navbar\n\n    }\n    ,\n\n    methods: {\n      pay() {\n        wx.requestPayment({\n          'timeStamp': '',\n          'nonceStr': '',\n          'package': '',\n          'signType': 'MD5',\n          'paySign': '',\n          'success': function (res) {\n            console.log(res)\n          },\n          'fail': function (res) {\n            console.log(res)\n            console.log('支付错误')\n          }\n        })\n      },\n     async attendGroup(){\n\n        const that = this\n//        const uuid = that.orderUuid\n//       参与拼团的订单uuid\n       const uuid = '123434'\n       const auth_code = wx.getStorageSync('auth_code')\n       const  uuid_authCode = [uuid,auth_code]\n       console.log(uuid_authCode)\n       const attendRes = await that.$store.dispatch('attendGroupActivities',{...uuid_authCode})\n       console.log(attendRes)\n       const orderUuid = attendRes.group_activity_order.uuid\n\n\n      },\n      getlastTime() {\n        let that = this\n//        console.log('倒计时')\n        let startTime = that.order_info.initial_time_timestamp\n        let currentTime = (new Date()).getTime()\n\n        let allTime = 86400000 //倒计时24小时\n//        let leftTime = allTime - ( currentTime - startTime)\n\n//\n//        if(leftTime<=0){\n//          leftTime = 0\n//          showModal('拼团失败','来晚一步')\n//          return\n//        }else {\n//          leftTime = allTime - ( currentTime - startTime)\n//        }\n        let leftTime = 86400 //总时间\n\n        let day = Math.floor(leftTime/1000 / 60 / 60 / 24) //剩余天数\n\n        let hours = Math.floor(leftTime/1000/60/60%24)\n\n        let minutes = Math.floor(leftTime/1000/60%60)\n\n        that.time.day = day\n        that.time.hours = hours\n        that.time.minutes = minutes\n        setTimeout(that.getlastTime, 1000);\n\n\n      },\n  share()\n  {\n    let that = this\n    that.showshare = !that.showshare\n//\n  }\n  ,\n  setModalStatus: function (e) {\n    console.log(this.showModal)\n    let that = this\n    console.log(\"设置显示状态，1显示0不显示\", e.currentTarget.dataset.status);\n    console.log(e.currentTarget.dataset)\n\n    var animation = wx.createAnimation({\n      duration: 200,\n      timingFunction: \"linear\",\n      delay: 0\n    })\n\n    that.animation = animation\n\n    animation.translateY(300).step()\n\n    that.animationData = animation.export()\n\n    console.log(' animation.translateY(300).step()')\n\n    if (e.currentTarget.dataset.status === '1') {\n      console.log('这个是status = 1')\n      that.showModal = true\n      console.log('这个时候应该显示' + that.showModal)\n    } else if (e.currentTarget.dataset.status === '0') {\n\n      console.log('这个是status = 0')\n\n      that.showModal = false\n\n\n    }\n    setTimeout(function () {\n      animation.translateY(0).step()\n\n      that.animationData = animation\n\n\n    }.bind(that), 200)\n  }\n  ,\n  sharfri()\n  {\n    //分享给朋友\n  }\n  ,\n  async\n  getGroup_orders()\n  {\n    let that = this\n    let order_info = await\n    get(`/v1/group_activity_orders/${that.order_uuid}`) //获取拼团订单\n    let order = order_info.group_activity_order\n    console.log(order)\n    that.order_info = order\n\n  }\n  ,\n  shareMenu()\n  {\n    console.log(this.showBox)\n    this.showBox = !this.showBox\n\n  }\n  ,\n\n async getImg()\n  {\n    let that = this\n    let uuid = that.group_activity_initial_uuid\n    let page = \"pages/isme/index\"\n    let data = [uuid,page]\n    let res = await this.$store.dispatch('wxCode',{...data})\n    let wxCodeImg = that.host+res.wxa_qrcode_url\n    this.painting = {\n      width: 375,\n      height: 557,\n      clear: true,\n      views: [\n\n//            绘制白色背景\n        {\n          type: 'rect',\n          background: '#fff',\n          top: 0,\n          left: 0,\n          width: 375,\n          height: 557\n        },\n\n        //            绘制的头图\n        {\n          type: 'image',\n          url: 'http://oxl5leo53.bkt.clouddn.com/u=1204211051,3834529407&fm=11&gp=0.jpg',                  //变化图片\n          top: 0,\n          left: 0,\n          width: 375,\n          height: 173\n        },\n        //            绘制的背景图\n\n\n//http://p15hnzxrp.bkt.clouddn.com/wechatapp2.5.jpg\n        // 文本表达\n        {\n          type: 'text',\n          content: this.order_info.title,                                                             //变量的名称\n          fontSize: 27.6,\n          lineHeight: 27.6,\n          color: '#454553',\n          textAlign: 'left',\n          top: 217.35,\n          left: 23,\n          width: 328.9,\n          MaxLineNumber: 2,                                                                         //最大两行 超出...\n          breakWord: true,  //换行\n          bolder: true  //加粗\n        },\n\n\n        {\n          type: 'text',\n          content: '￥5',                                                                                //变量的价格\n          fontSize: 20.7,\n          color: '#f83713',\n          textAlign: 'left',\n          top: 296.7,\n          left: 133.4,\n          bolder: true\n        },\n        {\n          type: 'text',\n          content: '拼团价',\n          fontSize: 13.8,\n          color: '#f83713',\n          textAlign: 'left',\n          top: 304.75,\n          left: 150 * 1.15,                                                                      //根据价格字符个数 变化\n\n        },\n        {\n          type: 'text',\n          content: '95',                                                                       //根据价格字符个数 变化\n          fontSize: 13 * 1.15,\n          color: '#999',\n          textAlign: 'left',\n          top: 265 * 1.15,\n          left: 190 * 1.15,                                                                      //根据价格字符个数 变化\n          textDecoration: 'line-through'\n        },\n\n        {\n          type: 'text',\n          content: '参团仅限新用户哦~',\n          fontSize: 16 * 1.15,\n          color: '#4a4a4a',\n          textAlign: 'left',\n          top: 314 * 1.15,\n          left: 95 * 1.15,\n          lineHeight: 16 * 1.15,\n          MaxLineNumber: 2,\n          breakWord: true,\n          width: 136 * 1.15\n        },\n        {\n          type: 'image',\n          url: wxCodeImg,\n          top: 345 * 1.15,\n          left: 121 * 1.15,\n          width: 84 * 1.15,\n          height: 84 * 1.15\n        },\n        {\n          type: 'text',\n          content: '长按识别，参与拼团',\n          fontSize: 14 * 1.15,\n          color: '#4a4a4a',\n          textAlign: 'left',\n          top: 439 * 1.15,\n          left: 100 * 1.15,\n          lineHeight: 14 * 1.15,\n          MaxLineNumber: 2,\n          breakWord: true,\n          width: 156 * 1.15\n        }\n\n      ]\n    }\n    wx.setStorageSync('painting', this.painting)\n    wx.navigateTo({\n      url: '/pages/test/main'\n    })\n  },\n      async fillAddress(){\n        console.log('领奖')\n        let that = this\n        let data = [ ]\n        let uuid = that.orderId\n        let order_status = that.order_info.status //success grouping init failed\n\n        console.log(order_status)\n        if(order_status ==='success'){\n          let res = await chooseAddress()\n          console.log(res)\n          let auth_code = wx.getStorageSync('auth_code')\n          let address =   {\n            name:res.name,            //名字\n            postal_code:res.postalCode,// 邮编\n            tel_phone:res.telNumber,// 电话\n            province:res.provinceName,// 省\n            city:res.cityName,// 市\n            district:res.countyName,// 区\n            detail:res.detailInfo// 详细\n\n          }\n\n          data = [uuid,auth_code,address]\n          let address_res =  await  that.$store.dispatch('groupAddress',{...data})\n\n          wx.navigateTo({\n            url:`/pages/user/myGroup/myGroupDetail/main?uuid=${uuid}`\n          })\n        }else  {\n          console.log('order_status 不是success')\n\n        }\n\n\n      },\n      createGroup(){\n        //重新开团\n        wx.switchTab({\n          url: `/pages/home/main`\n        })\n      }\n\n\n\n    },\n   async onLoad()\n  {\n    console.log('支付后的订单详情')\n    var that = this\n\n    let group_activity_initial_uuid = that.$root.$mp.query.group_activity_initial_uuid //发起拼团活动返回订单uuid\n    that.group_activity_initial_uuid = group_activity_initial_uuid\n    console.log(group_activity_initial_uuid)\n\n    let currentuser_code = wx.getStorageSync('auth_code')\n    let uuid_authCode = [group_activity_initial_uuid,currentuser_code]\n\n    let orderData = await  that.$store.dispatch('groupActivitiesInit',{...uuid_authCode})\n\n    let order_user = orderData.group_activity_initial.users //[]\n\n    let left_user = orderData.group_activity_initial.users_left //number\n\n    for(var i = 0; i < left_user; i++){\n      order_user.push({})\n    }\n\n    orderData.group_activity_initial.users = order_user\n\n    if(orderData.group_activity_initial.status === 'failed' || orderData.group_activity_initial.status === 'success' || orderData.group_activity_initial.status === 'init' ){\n      console.log('本次拼团结束')\n      that.group_activity_initial_finish = true\n\n    }\n\n    that.order_info = orderData.group_activity_initial\n\n\n\n     that.getlastTime()\n  },\n   async mounted()\n  {\n\n\n  }\n  ,\n  onShareAppMessage(res)\n  {\n    var that = this\n    let uuid = that.group_activity_initial_uuid\n\n    if (res.from === 'button') {\n      // 来自页面内转发按钮\n      console.log(res.target)\n    }\n    return {\n      title: that.order_info.title,\n      path: `/pages/groupPj/order/main?group_activity_initial_uuid=${uuid}` //参与拼团的页面\n    }\n  }\n\n  }\n\n\n</script>\n<style lang=\"scss\" scoped>\n  .container {\n    font-family: \"PingFang SC\";\n    font-weight: Regular;\n    text-align: left;\n    background: #f7f7f7;\n  }\n\n  .order-info {\n\n  }\n\n  .detail-order {\n    border: 1px solid #fff;\n    background: #fff;\n    margin-top: 9px;\n\n  }\n\n  .detail-order h2 {\n    width: 176px;\n    height: 16px;\n    line-height: 16px;\n    font-family: PingFangSC-Medium;\n    font-size: 16px;\n    color: #454553;\n    margin: 21px 174px auto 25px;\n    .refund{\n      display: none;\n    }\n  }\n\n  .detail-order .order-info .text {\n    /*width: 215px;*/\n    height: 14px;\n    line-height: 14px;\n    font-family: PingFangSC-Regular;\n    font-size: 14px;\n    color: #454553;\n    margin: 15px 100px auto 25px;\n  }\n\n  .detail-order .order-info .text span {\n    color: #e8724b;\n  }\n\n  .user {\n    width: 100%;\n    height: 50px;\n    margin-top: 25px;\n    margin-left: 25px;\n\n  }\n\n  .user .pic {\n    width: 34px;\n    height: 34px;\n    display: inline-block;\n    position: relative;\n    /*border: 1px solid #000;*/\n    background-image: url(\"http://p15hnzxrp.bkt.clouddn.com/oval.png\");\n    background-size: cover;\n    border-radius: 50%;\n    /*background-attachment:fixed;*/\n  }\n\n  .user .pic:nth-child(2) {\n    margin-left: 15px;\n    margin-right: 15px;\n  }\n  .user .pic:nth-child(4) {\n    margin-left: 15px;\n    margin-right: 15px;\n  }\n.group_res{\n  width:180px;\n  height: 45px;\n  line-height:45px;\n  text-align: center;\n  border: 1px solid #ff7f47;\n  margin: 0 auto;\n}\n  .pic img {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n  }\n\n  .pic span {\n    width: 32px;\n    height: 16px;\n\n    background: #ff7f4f;\n    border-radius: 23px;\n    text-align: center;\n    color: #fff;\n    position: absolute;\n    top: 26px;\n    left: 1px;\n    font-size: 10px;\n    letter-spacing: 0.1px;\n\n  }\n\n\n  .left_user{\n    width: 34px;\n    height: 34px;\n    display: inline-block;\n    /*border: 1px solid #000;*/\n    background-image: url(\"http://p15hnzxrp.bkt.clouddn.com/oval.png\");\n    background-size: cover;\n    border-radius: 50%;\n\n  }\n\n\n  .nor_user {\n    border: 1px dashed #ccc;\n    border-radius: 50%;\n    /*background: ;*/\n  }\n\n  .line {\n    width: 325px;\n    height: 2px;\n    /*border: 1px solid #000;*/\n    background: #f5f5f5;\n    margin: 20px auto;\n  }\n\n  .group {\n    width: 100%;\n    margin-top: -10px;\n\n  }\n\n  .group h2 {\n    width: 64px;\n    height: 22px;\n    line-height: 22px;\n    font-family: PingFangSC-Medium;\n    font-size: 16px;\n    color: #333;\n\n  }\n\n  .group p {\n    width: 315px;\n    font-family: PingFangSC-Regular;\n\n    font-size: 12px;\n    color: #4a4a4a;\n    margin: 0 auto;\n    /*border: 1px solid #000;*/\n  }\n\n  .pjDetail {\n    /*width: 348px;*/\n\n    margin: 0 auto;\n    padding-left: 25px;\n    font-family: PingFangSC-Medium;\n    color: #333;\n    font-size: 16px;\n\n  }\n\n  .pjDetail {\n    text-align: left;\n  }\n\n  .share {\n    width: 180px;\n    height: 42px;\n    line-height: 42px;\n    margin: 4px auto;\n    text-align: center;\n    font-size: 18px;\n    background: #8E7373;\n  }\n\n  .share-box {\n    width: 350px;\n    height: 200px;\n    margin: 0 auto;\n    border: 1px solid #C8C8CD;\n  }\n\n  /*--------------------------------*/\n  .drawer_screen {\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background: #000;\n    opacity: 0.2;\n    overflow: hidden;\n    z-index: 1000;\n    color: #fff;\n  }\n\n  .drawer_attr_box {\n    width: 100%;\n    overflow: hidden;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    z-index: 2000;\n    background: #fff;\n  }\n\n  .close_icon {\n    width: 12.5px;\n    height: 12.5px;\n    line-height: 10px;\n    font-size: 15px;\n    position: absolute;\n    right: 2.5px;\n    top: 2.5px;\n    z-index: 101;\n    padding: 5px;\n    color: #ccc;\n    border: 1px solid #ccc;\n    border-radius: 50%;\n    text-align: center;\n    background: #fff;\n  }\n\n  .drawer_attr_content {\n    padding: 10px;\n    height: 300px;\n    overflow-y: scroll;\n  }\n\n  .drawer_image {\n    width: 200px;\n    height: 200px;\n  }\n\n  .drawer_desc {\n    font-size: 13px;\n    margin: 10px;\n  }\n\n  .btn {\n\n    text-align: center;\n    width: 375px;\n    height: 60px;\n    background: #fff;\n    box-shadow: 0 -2px 8px #ededed;\n    position: fixed;\n    bottom: 0;\n    z-index: 100;\n    padding: 0;\n    margin: 0;\n    /*border: 1px solid #000;*/\n\n  }\n\n  .btn span {\n\n    width: 325px;\n    height: 44px;\n    line-height: 44px;\n    background: #ff7f4f;\n    border-radius: 22px;\n    display: block;\n    box-shadow: 0 0 8px #ff7f47;\n    margin-left: 25px;\n    margin-top: 8px;\n    font-family: PingFangSC-Medium;\n    font-size: 16px;\n    color: #fff;\n  }\n\n  /*引入css*/\n\n  .mask {\n    position: fixed;\n    z-index: 100;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    background: rgba(0, 0, 0, 0.4);\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-end;\n    flex-direction: column;\n  }\n\n  .meunBox {\n    width: 375px;\n    height: 280px;\n    background: #fff;\n    position: relative;\n    z-index: 1000;\n    /*border: 1px solid #ff7f4f;*/\n\n  }\n\n  .meunBox .title {\n    width: 102px;\n    height: 24px;\n    font-size: 17px;\n    line-height: 24px;\n    color: #333;\n    position: absolute;\n    top: 56px;\n    left: 137px;\n\n  }\n\n  .meunBox .friend, .createImg {\n    display: inline-block;\n\n    width: 60px;\n    height: 60px;\n    border-radius: 50%;\n    border: 2px solid #ededed;\n    box-sizing: border-box;\n\n  }\n\n  .meunBox p {\n    height: 20px;\n    font-size: 14px;\n    color: #666;\n\n  }\n\n  button::after {\n    border: none;\n  }\n\n  .createImg img {\n\n    width: 24px;\n    height: 24px;\n    margin: 17px;\n    /*border: 1px solid #000;*/\n\n  }\n\n  .friend {\n    position: relative;\n  }\n\n  .friend img {\n    width: 24px;\n    height: 24px;\n    position: absolute;\n    top: 17px;\n    left: 17px;\n\n  }\n\n  .meunBox .friend {\n    display: inline-block;\n    position: absolute;\n    top: 128px;\n    left: 80px;\n    /*border: 1px solid #000;*/\n  }\n\n  .meunBox .createImg {\n    position: absolute;\n    top: 128px;\n    right: 80px;\n  }\n\n  .wechatFriend {\n    /*background: none;*/\n    /*border: 1px solid #000;*/\n    display: inline-block;\n    position: absolute;\n    top: 206px;\n    left: 82px;\n    font-size: 14px;\n    color: #666;\n  }\n\n  .shengchengImg {\n    position: absolute;\n    top: 206px;\n    right: 68px;\n    font-size: 14px;\n    color: #666;\n  }\n\n  .x {\n    /*border: 1px solid #000;*/\n    width: 15px;\n    height: 15px;\n    position: absolute;\n    top: 15px;\n    right: 15px;\n\n  }\n\n  /*参团底部button*/\n\n  .pay{\n    width: 100%;\n    height: 60px;\n    background: #fff;\n    /*border-top: 1px solid #000;*/\n    box-shadow: 0 -2px 8px  #ededed;\n    position: fixed;\n    bottom: 0;\n    z-index: 100;\n\n  }\n\n\n\n  .price{\n    display: inline-block;\n\n    width: 90px;\n    height: 25px;\n    line-height: 25px;\n    color:#f7412d;\n    background: #fff;\n    font-size: 18px;\n    text-align: left;\n\n    margin-left: 25px;\n    margin-top: 18px;\n\n    /*border:1px solid #000;*/\n\n  }\n  .price span{\n    font-size: 12px;\n    color: #999;\n  }\n\n  .join-group{\n    display: inline-block;\n    width: 140px;\n    height: 44px;\n    line-height: 44px;\n    border-radius: 22px 22px 22px 22px;\n    background: #ff7f4f;\n    box-shadow: 0 0 8px #ff7f4f;\n    text-align: center;\n    font-weight: Medium;\n    margin-top:8px;\n    margin-left: 95px;\n\n    font-family: PingFangSC-Medium;\n    font-size: 16px;\n    color: #fff;\n  }\n\n\n\n  /*-----------*/\n  .wrap{\n    height: 125px;\n    background: #fff;\n    border: 0.5px solid #fff;\n\n  }\n  .pj-info{\n\n    /*border: 1px solid #000;*/\n\n\n    width: 325px;\n    height: 84px;\n    margin: 21px auto  20px;\n  }\n  .pj-info .left{\n    display: inline-block;\n    width: 80px;height: 80px;\n    margin-top: 4px;\n    border-radius: 5px;\n\n\n\n  }\n\n  .left img{\n    width:80px;\n    height: 80px;\n    margin-right: 0;\n    border-radius: 5px;\n\n  }\n\n\n\n\n  .pj-info .right{\n    position: relative;\n    display: inline-block;\n    height: 84px;\n    width: 225px;\n    /*border:1px solid #000;*/\n\n  }\n  .right h2 .mark{\n    width: 50px;height: 20px;\n    line-height: 20px;\n    text-align: center;\n    font-family:PingFangSC-Regular ;\n    font-size: 11px;\n    color:#ff7f4f;\n    border:1px solid #ff7f4f;\n    display: inline-block;\n    margin-right: 10px;\n    /*transform:rotate(-42deg);*/\n\n    /*position: absolute;*/\n    /*top:0px;*/\n    /*left: 0px;*/\n  }\n\n  .right h2{\n    display: inline-block;\n    font-size: 20px;\n    font-family:  PingFangSC-Medium;\n    color:#333;\n    /*margin-left: 60px;*/\n\n  }\n  .right p{\n    /*border: 1px solid #000;*/\n    margin-top: 13px;\n  }\n\n  .right  p span{\n    display: inline-block;\n    margin-left: 5px;\n  }\n\n  .right  p span:nth-child(1){\n    font-size: 20px; color: #D0021B;\n    font-weight: Medium;\n\n  }\n  /*.right p span:nth-child(2){*/\n  /*font-size: 12px; color: #D0021B;*/\n  /*font-weight: Regular;*/\n\n  /*}*/\n  .right p span:nth-child(2){\n    font-size: 12px; color: #D0021b;\n    font-weight: Regular;\n    text-decoration: line-through;\n  }\n\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/groupPj/order/index.vue?12204da4","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-b3a874ec\",\"scoped\":true,\"hasInlineConfig\":false}!./~/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./~/postcss-loader/lib?{\"sourceMap\":true}!./~/sass-loader/lib/loader.js?{\"sourceMap\":false}!./~/mpvue-loader/lib/selector.js?type=styles&index=0!./src/pages/groupPj/order/index.vue\n// module id = 193\n// module chunks = 4","var disposed = false\nvar normalizeComponent = require(\"!../../mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../mpvue-loader/lib/selector?type=script&index=0!./vue2-countdown.vue\"\n/* template */\nimport __vue_template__ from \"!!../../mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-eeaf0e42\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../mpvue-loader/lib/selector?type=template&index=0!./vue2-countdown.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"node_modules/vue2-countdown/lib/vue2-countdown.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] vue2-countdown.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-eeaf0e42\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-eeaf0e42\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue2-countdown/lib/vue2-countdown.vue\n// module id = 196\n// module chunks = 4","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container\"\n  }, [_c('Navbar', {\n    attrs: {\n      \"navbar_title\": _vm.navbar_title,\n      \"mpcomid\": '0'\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"wrap\"\n  }, [_c('div', {\n    staticClass: \"pj-info\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('div', {\n    staticClass: \"right\"\n  }, [_c('h2', [_c('div', {\n    staticClass: \"mark\"\n  }, [_vm._v(_vm._s(_vm.order_info.group_activity.group_type))]), _vm._v(_vm._s(_vm.order_info.group_activity.title))]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"¥\" + _vm._s(_vm.order_info.group_activity.current_price))]), _c('span', [_vm._v(\"¥\" + _vm._s(_vm.order_info.group_activity.original_price))])])], 1)])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail-order\"\n  }, [_c('h2', [_c('span', [_vm._v(_vm._s(_vm.order_info.status_display))]), _c('span', {\n    staticClass: \"refund\"\n  }, [_vm._v(\"已退款\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"order-info\"\n  }, [_c('div', {\n    staticClass: \"text\"\n  }, [_vm._v(\"还差\"), _c('span', [_vm._v(_vm._s(_vm.order_info.users_left))]), _vm._v(\"人参团,\\n        \"), _c('span', [_vm._v(_vm._s(_vm.time.day))]), _vm._v(\"天\\n        \"), _c('span', [_vm._v(_vm._s(_vm.time.hours))]), _vm._v(\"时\\n        \"), _c('span', [_vm._v(_vm._s(_vm.time.minutes))]), _vm._v(\"分后结束\\n      \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user\"\n  }, _vm._l((_vm.order_info.users), function(item, index) {\n    return _c('div', {\n      staticClass: \"pic\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": item.avatar_url,\n        \"alt\": \"\"\n      }\n    }), (item.is_initiator) ? _c('span', {\n      staticClass: \"mark\"\n    }, [_vm._v(\"团长\")]) : _vm._e()])\n  })), _vm._v(\" \"), (_vm.order_info.status == 'success') ? _c('div', {\n    staticClass: \"group_res\",\n    attrs: {\n      \"eventid\": '0'\n    },\n    on: {\n      \"click\": _vm.fillAddress\n    }\n  }, [_vm._v(\"去填地址\")]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"group\"\n  }, [_c('h2', {\n    staticClass: \"group-game\"\n  }, [_vm._v(\"拼团玩法\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"step1\"\n  }, [_vm._v(\"1.免费领取 但要完成小作业，写食用反馈。\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"step2\"\n  }, [_vm._v(\"2.领取成功后，请扫码加群等待发货哦。\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"pjDetail\"\n  }, [_vm._v(\"\\n      商品详情\\n      \"), _c('rich-text', {\n    attrs: {\n      \"nodes\": _vm.order_info.detail,\n      \"mpcomid\": '1'\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn open_btn\",\n    attrs: {\n      \"data-status\": \"1\",\n      \"eventid\": '1'\n    },\n    on: {\n      \"click\": _vm.shareMenu\n    }\n  }, [_c('span', [_vm._v(\"邀请好友一起享用\")])]), _vm._v(\" \"), (_vm.group_activity_initials_finish) ? _c('div', {\n    staticClass: \"btn open_btn\",\n    attrs: {\n      \"data-status\": \"1\",\n      \"eventid\": '2'\n    },\n    on: {\n      \"click\": _vm.createGroup\n    }\n  }, [_c('span', [_vm._v(\"重新开团\")])]) : _vm._e(), _vm._v(\" \"), (_vm.showBox) ? _c('div', {\n    staticClass: \"mask\"\n  }, [(_vm.showBox) ? _c('div', {\n    staticClass: \"meunBox\"\n  }, [_c('img', {\n    staticClass: \"x\",\n    attrs: {\n      \"src\": require(\"../../../../static/img/close2.png\"),\n      \"alt\": \"\",\n      \"eventid\": '3'\n    },\n    on: {\n      \"click\": _vm.shareMenu\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"title\"\n  }, [_vm._v(\"分享加速抽奖\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"friend\",\n    attrs: {\n      \"open-type\": \"share\"\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": require(\"../../../../static/img/wechatF.png\"),\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"createImg\",\n    attrs: {\n      \"eventid\": '4'\n    },\n    on: {\n      \"click\": _vm.getImg\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": require(\"../../../../static/img/wechatimg.png\"),\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"wechatFriend\",\n    attrs: {\n      \"open-type\": \"share\"\n    }\n  }, [_vm._v(\"微信好友\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"shengchengImg\",\n    attrs: {\n      \"eventid\": '5'\n    },\n    on: {\n      \"click\": _vm.getImg\n    }\n  }, [_vm._v(\"生成分享图片\")])], 1) : _vm._e()]) : _vm._e(), _vm._v(\" \"), (_vm.scanCode) ? _c('div', {\n    staticClass: \"pay\"\n  }, [_c('div', {\n    staticClass: \"price\"\n  }, [_vm._v(\"¥\" + _vm._s(_vm.order_info.current_price)), _c('span', [_vm._v(\"还剩{{}}\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"join-group\",\n    attrs: {\n      \"data-uuid\": _vm.order_info.uuid,\n      \"eventid\": '6'\n    },\n    on: {\n      \"click\": _vm.attendGroup\n    }\n  }, [_vm._v(\"一键参与\")])]) : _vm._e()], 1)\n}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"left\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": \"http://oxl5leo53.bkt.clouddn.com/u=660634825,1514502894&fm=11&gp=0.jpg\",\n      \"alt\": \"\"\n    }\n  })])\n}]\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-b3a874ec\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-b3a874ec\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/mpvue-loader/lib/selector.js?type=template&index=0!./src/pages/groupPj/order/index.vue\n// module id = 228\n// module chunks = 4","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.msTime.show) ? _c('p', [(_vm.msTime.day > 0) ? _c('span', [_c('span', [_vm._v(_vm._s(_vm.msTime.day))]), _c('i', [_vm._v(_vm._s(_vm.dayTxt))])], 1) : _vm._e(), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.msTime.hour))]), _c('i', [_vm._v(_vm._s(_vm.hourTxt))]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.msTime.minutes))]), _c('i', [_vm._v(_vm._s(_vm.minutesTxt))]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.msTime.seconds))]), _c('i', [_vm._v(_vm._s(_vm.secondsTxt))])], 1) : _vm._e()], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-eeaf0e42\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-eeaf0e42\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/mpvue-loader/lib/selector.js?type=template&index=0!./~/vue2-countdown/lib/vue2-countdown.vue\n// module id = 230\n// module chunks = 4","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b3a874ec\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!sass-loader?{\\\"sourceMap\\\":false}!../../../../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/mpvue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b3a874ec\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../node_modules/mpvue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b3a874ec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/groupPj/order/index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-b3a874ec\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-b3a874ec\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/groupPj/order/index.vue\n// module id = 69\n// module chunks = 4","import Vue from 'vue';\nimport groupDetail from './index';\n\nvar app = new Vue(groupDetail);\napp.$mount();\n\nexport default {\n  config: {\n    enablePullDownRefresh: true\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/pages/groupPj/order/main.js","<template>\n  <div>\n    <p v-if=\"msTime.show\">\n      <!--<span v-if=\"tipShow\">{{tipText}}:</span>-->\n      <!--<span v-if=\"!tipShow\">{{tipTextEnd}}:</span>-->\n      <span v-if=\"msTime.day>0\"><span>{{msTime.day}}</span><i>{{dayTxt}}</i></span>\n      <span>{{msTime.hour}}</span><i>{{hourTxt}}</i>\n      <span>{{msTime.minutes}}</span><i>{{minutesTxt}}</i>\n      <span>{{msTime.seconds}}</span><i>{{secondsTxt}}</i>\n    </p>\n    <!--<p v-if=\"!msTime.show\">{{endText}}</p>-->\n  </div>\n</template>\n<script>\n  export default {\n    replace: true,\n    data () {\n      return {\n        tipShow: true,\n        msTime: {\t\t\t//倒计时数值\n          show: false,\t\t//倒计时状态\n          day: '',\t\t\t//天\n          hour: '',\t\t//小时\n          minutes: '',\t\t//分钟\n          seconds: ''\t\t//秒\n        },\n        star: '',\t\t\t//活动开始时间\n        end: '',\t\t\t\t//活动结束时间\n        current: '',         //当前时间\n      }\n    },\n    watch: {\n      currentTime: function (val, oldval) {\n        this.gogogo();\n      }\n    },\n    props: {\n      //距离开始提示文字\n      tipText: {\n        type: String,\n        default: '距离开始'\n      },\n      //距离结束提示文字\n      tipTextEnd: {\n        type: String,\n        default: '距离结束'\n      },\n      //时间控件ID\n      id: {\n        type: String,\n        default: '1'\n      },\n      //当前时间\n      currentTime: {\n        type: Number\n      },\n      // 活动开始时间\n      startTime: {\n        type: Number\n      },\n      // 活动结束时间\n      endTime: {\n        type: Number\n      },\n      // 倒计时结束显示文本\n      endText: {\n        type: String,\n        default: '已结束'\n      },\n      //自定义显示文字:天\n      dayTxt: {\n        type: String,\n        default: ':'\n      },\n      //自定义显示文字:时\n      hourTxt: {\n        type: String,\n        default: ':'\n      },\n      //自定义显示文字:分\n      minutesTxt: {\n        type: String,\n        default: ':'\n      },\n      secondsTxt: {\n        type: String,\n        default: ':'\n      },\n      //是否开启秒表倒计，未完成\n      secondsFixed: {\n        type: Boolean,\n        default: false\n      },\n    },\n    mounted () {\n      console.log(this)\n      this.gogogo();\n    },\n    methods: {\n      gogogo: function () {\n        //判断是秒还是毫秒\n        this.startTime.toString().length == 10 ? this.star = this.startTime * 1000 : this.star = this.startTime;\n        this.endTime.toString().length == 10 ? this.end = this.endTime * 1000 : this.end = this.endTime;\n        if (this.currentTime) {\n          this.currentTime.toString().length == 10 ? this.current = this.currentTime * 1000 : this.current = this.currentTime;\n        } else {\n          this.current = ( new Date() ).getTime();\n        }\n\n        if (this.end < this.current) {\n          /**\n           * 结束时间小于当前时间 活动已结束\n           */\n          this.msTime.show = false;\n          this.end_message();\n        }\n        else if (this.current < this.star) {\n          /**\n           * 当前时间小于开始时间 活动尚未开始\n           */\n          this.$set(this, 'tipShow', true);\n          setTimeout(() => {\n            this.runTime(this.star, this.current, this.start_message);\n          }, 1);\n        }\n        else if (this.end > this.current && this.star < this.current || this.star == this.current) {\n          /**\n           * 结束时间大于当前并且开始时间小于当前时间，执行活动开始倒计时\n           */\n          this.$set(this, 'tipShow', false);\n          this.msTime.show = true;\n          this.$emit('start_callback', this.msTime.show);\n          setTimeout(() => {\n            this.runTime(this.end, this.star, this.end_message, true)\n          }, 1);\n        }\n      },\n      runTime (startTime, endTime, callFun, type) {\n        let msTime = this.msTime;\n        let timeDistance = startTime - endTime;\n        if (timeDistance > 0) {\n          this.msTime.show = true;\n          msTime.day = Math.floor(timeDistance / 86400000);\n          timeDistance -= msTime.day * 86400000;\n          msTime.hour = Math.floor(timeDistance / 3600000);\n          timeDistance -= msTime.hour * 3600000;\n          msTime.minutes = Math.floor(timeDistance / 60000);\n          timeDistance -= msTime.minutes * 60000;\n          //是否开启秒表倒计,未完成\n//                    this.secondsFixed ? msTime.seconds = new Number(timeDistance / 1000).toFixed(2) : msTime.seconds = Math.floor( timeDistance / 1000 ).toFixed(0);\n          msTime.seconds = Math.floor(timeDistance / 1000).toFixed(0);\n          timeDistance -= msTime.seconds * 1000;\n\n          if (msTime.hour < 10) {\n            msTime.hour = \"0\" + msTime.hour;\n          }\n          if (msTime.minutes < 10) {\n            msTime.minutes = \"0\" + msTime.minutes;\n          }\n          if (msTime.seconds < 10) {\n            msTime.seconds = \"0\" + msTime.seconds;\n          }\n          let _s = Date.now();\n          let _e = Date.now();\n          let diffPerFunc = _e - _s;\n          setTimeout(() => {\n            if (type) {\n              this.runTime(this.end, endTime += 1000, callFun, true);\n            } else {\n              this.runTime(this.star, endTime += 1000, callFun);\n            }\n          }, 1000 - diffPerFunc)\n        }\n        else {\n          callFun();\n        }\n      },\n      start_message () {\n        this.$set(this, 'tipShow', false);\n        this.$emit('start_callback', this.msTime.show);\n        setTimeout(() => {\n          this.runTime(this.end, this.star, this.end_message, true)\n        }, 1);\n      },\n      end_message(){\n        this.msTime.show = false;\n        if (this.currentTime <= 0) {\n          return;\n        }\n        this.$emit('end_callback', this.msTime.show);\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/vue2-countdown/lib/vue2-countdown.vue?af80ffa4"],"sourceRoot":""}
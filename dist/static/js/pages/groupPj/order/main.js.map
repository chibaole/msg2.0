{"version":3,"sources":["webpack:///src/pages/groupPj/order/index.vue","webpack:///./src/pages/groupPj/order/index.vue?8bac","webpack:///./~/vue2-countdown/lib/vue2-countdown.vue","webpack:///./src/pages/groupPj/order/index.vue?1b7b","webpack:///./~/vue2-countdown/lib/vue2-countdown.vue?74e9","webpack:///./src/pages/groupPj/order/index.vue","webpack:///./src/pages/groupPj/order/main.js","webpack:///node_modules/vue2-countdown/lib/vue2-countdown.vue"],"names":["app","$mount","config","enablePullDownRefresh"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgJA;;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;wBAGA;;;aAGA;eACA;iBACA;iBAEA;AALA;iBAMA;iBACA;gBACA;gBACA;kBACA;eACA;gBACA;oBACA;iBACA;gBACA;gBACA;mCACA;qCACA;oBACA;qEACA;iCACA;aACA;eACA;6BACA;cAGA;;AA5BA;AA6BA;;;AAEA;AACA;AAIA;;AANA;;;;;;;;;;;AAQA;AAEA;;+BAEA;8BACA;6BACA;8BACA;6BACA;mDACA;gCACA;AACA;6CACA;gCACA;gCACA;AAEA;AAbA;;;;;;;;;AAeA;;;;;;;;;;AAEA;AACA;4BACA;8CACA;;AAEA;;;+IACA;;;;;4BACA;;qBAEA;;;;;uFACA;;iDACA;AACA;;yDAEA;;;;;;;+CAEA;8CACA;6CACA;8CACA;6CACA;mDACA;gCACA;iDAEA;;sDACA;;4BAEA;sCACA;uCACA;oCAEA;AALA;iDAQA;;wCAGA;AACA;6CACA;gCACA;gCACA;kHAGA;AAGA;AAhCA;;;;;+BAsCA;;;;;;;;;AACA;uDACA;qBACA;AACA;;;AAGA;sCAEA;;mCACA;oCAEA;;6BAPA,CASA;;4CAEA;;4DAEA;;yDAEA;;sDAEA;;iDAEA;;sBACA;wBACA;0BACA;0BAEA;;+CACA;;AAEA;mBACA;qBACA;AAGA;AACA;4BACA;iBACA;;AAEA;AACA;;+CACA;uBACA;iBACA;4DACA;kCAEA;;;kBAEA;wBACA;eAGA;AALA;;uBAOA;;gCAEA;;qCAEA;;kBAEA;;kDACA;oBACA;yBACA;sCACA;yDACA;oBAEA;;yBACA;AACA;6BACA;gCAEA;;6BACA;SACA;AAEA;;qCAEA;;2BACA;AAEA;;AACA;;;;;;;;AACA;4BACA;uBACA;8BACA;;kIAEA;;;;;AAGA;;8DACA;6BACA;;8CACA;2DACA;uBACA;iCACA;AACA;;yBAEA;0BACA;yBACA;;;AAGA;AACA;0BACA;gCACA;yBACA;0BACA;2BACA;4BAGA;;;AACA;AACA;0BACA;yEACA;yBACA;0BACA;2BACA;4BAEA;;;;AAGA;AACA;AACA;0BACA;2CACA;8BACA;gCACA;2BACA;+BACA;yBACA;0BACA;2BACA;sCACA;qCACA;iCAGA;;0BAEA;wEACA;8BACA;2BACA;+BACA;yBACA;0BACA;4BAEA;AATA;0BAWA;6BACA;8BACA;2BACA;+BACA;yBACA;6BAEA;AARA;0BAUA;2EACA;8BACA;2BACA;+BACA;yBACA;;AAIA;AAVA;0BAYA;oCACA;8BACA;2BACA;+BACA;yBACA;;AAIA;AAVA;0BAYA;kFACA;8BACA;2BACA;+BACA;yBACA;+BACA;oCAGA;AAVA;0BAYA;6BACA;8BACA;2BACA;+BACA;yBACA;0BACA;gCACA;mCACA;+BACA;2BAEA;AAZA;0BAcA;yBACA;+BACA;gCACA;gCACA;iCAEA;AAPA;0BASA;6BACA;8BACA;2BACA;+BACA;+BACA;gCACA;qCACA;mCACA;+BACA;iCAKA;AAfA;AArHA;qDAqIA;;uBAGA;AAFA;;;;;;;;;AAGA;;AACA;;;;;;;;4BACA;AACA;uBACA;kEACA;;uDACA;;sCACA;;uCACA;;;;;;uBACA;;;;8CACA;;kCAEA;+CACA;4CACA;8CACA;sCACA;4CACA;yCAIA;;AAVA;;;yCAWA;;sIACA;;;;;;wEAIA;AAHA;;;;;4BAKA;;;;;;;;;AACA;wCACA;AACA;;AAGA;AAFA;AAGA;;AAEA;;AADA;;;;;;;;;;;;;AAIA;AAlWA;;AAmWA;;;;;;;;AACA;+BACA;iFACA;;8CAEA;;;2CACA;+BAEA;;iDAEA;;mDACA;4DAEA;;2IAEA;;;;mEAEA;;uEAEA;;oEACA;iEACA;;0BACA;0BACA;6CACA;gCACA;AAEA;;uDAEA;;yIACA;oCACA;+IACA;oCAEA;AAEA;;0CAGA;;mBACA;;;;;;;;;AACA;;AAEA;;;;;;;;;;;;;AACA;qDACA;eACA;oBAEA;;+BACA;AACA;sBACA;AACA;;aAEA;;AAEA;AAEA;AALA;AAMA;AArcA,G;;;;;;;AC1JA,yC;;;;;;;;;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACsO;AACtO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;;ACvCA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;AChQA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;ACZA;AAAA;AACA;AACA;AACA,yBAAob;AACpb;AACA;AACA;AACA;AACA;AACwP;AACxP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;;;;;;AC3CA;AACA;;AAEA,IAAIA,MAAM,IAAI,2CAAJ,CAAQ,uDAAR,CAAV;AACAA,IAAIC,MAAJ;;AAEA,+DAAe;AACbC,UAAQ;AACNC,2BAAuB;AADjB;AADK,CAAf,E;;;;;;;;;;;;;;;;;;;;ACQA;;;WAEA;wBACA;;eAEA;gBACA;qBACA;iBACA;kBACA;qBACA;oBAEA;;gBACA;eACA;kBAEA;AAZA;AAaA;;;mDAEA;WACA;AAEA;AAJA;;AAMA;;YAEA;eAEA;AAHA;AAIA;;YAEA;eAEA;AAHA;AAIA;;YAEA;eAEA;AAHA;AAIA;;YAGA;AAFA;AAGA;;YAGA;AAFA;AAGA;;YAGA;AAFA;AAGA;;YAEA;eAEA;AAHA;AAIA;;YAEA;eAEA;AAHA;AAIA;;YAEA;eAEA;AAHA;AAIA;;YAEA;eAEA;AAHA;;YAKA;eAEA;AAHA;AAIA;;YAEA;eAGA;AAJA;AArDA;8BA0DA;gBACA;SACA;AACA;;;;AAEA;;AACA;oGACA;8FACA;4BACA;gHACA;aACA;kCACA;AAEA;;mCACA;AAGA;;;2BACA;aACA;AACA,2CACA;AAGA;;;mCACA;+BACA;yDACA;WACA;AACA,mGACA;AAGA;;;mCACA;2BACA;iDACA;+BACA;kEACA;WACA;AACA;AACA;;AACA;;wBACA;qCACA;4BACA;2BACA;+CACA;qCACA;gDACA;sCACA;mDACA;yCACA;;AAEA;iEACA;yCAEA;;8BACA;qCACA;AACA;iCACA;wCACA;AACA;iCACA;wCACA;AACA;sBACA;sBACA;+BACA;+BACA;oBACA;iEACA;iBACA;yDACA;AACA;kBACA;AACA,aACA;AACA;AACA;AACA;;AACA;;iCACA;+CACA;6BACA;oEACA;SACA;AACA;wCACA;yBACA;iCACA;AACA;AACA;6CACA;AAEA;AA7FA;AApFA,G","file":"static/js/pages/groupPj/order/main.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <Navbar :navbar_title=\"navbar_title\" :delta=\"delta\"></Navbar>\n    <OldUser v-if=\"oldUser\" v-on:oldUserValue=\"oldUserValue\" :group_activities_uuid=\"group_activities_uuid\"></OldUser>\n\n    <!--<Card ></Card>-->\n    <!--<Card :order_info=\"order_info\"></Card>-->\n    <div class=\"wrap\">\n      <div class=\"pj-info\">\n        <div class=\"left\">\n          <!--<img :src=\"order_info.group_activity.title_image_url\" alt=\"\">-->\n          <div class=\"bg\"\n               :style=\"{width:'100%', height:'100%', backgroundImage:'url('+order_info.group_activity.title_image_url+')',backgroundSize:'cover', backgroundPosition:'50%'}\"></div>\n        </div>\n        <div class=\"right\">\n          <h2>\n            <div class=\"group_mark\">{{order_info.group_activity.group_type}}</div>\n            {{order_info.group_activity.title}}\n          </h2>\n          <p><span>¥&nbsp;{{order_info.group_activity.current_price}}</span><span\n            v-if=\"order_info.group_activity.original_price\">¥{{order_info.group_activity.original_price}}</span>\n          </p>\n        </div>\n      </div>\n    </div>\n    <!--订单详情-->\n    <div class=\"detail-order\">\n\n      <div class=\"grouping\" v-if=\"order_info.status == 'grouping'\"> <!--拼团中-->\n        <h2><span>{{order_info.status_display}}</span></h2>\n        <div class=\"order-info\">\n          <div class=\"text\">还差<span>{{order_info.users_left}}</span>人参团,\n            <span>{{time.hours}}</span>时\n            <span>{{time.minutes}}</span>分\n            <span>{{time.seconds}}</span>秒后结束\n          </div>\n        </div>\n\n        <div class=\"user\">\n          <div class=\"pic\" v-for=\"item in order_info.users\" :key=\"item.uuid\"><img :src=\"item.avatar_url\" alt=\"\"><span\n            class=\"mark\" v-if=\"item.is_initiator\">团长</span></div>\n        </div>\n      </div>\n\n\n      <div class=\"groupFailed\" v-if=\"order_info.status == 'failed'\"> <!--拼团失败-->\n        <!--<div class=\"groupFailed\"  > &lt;!&ndash;拼团失败&ndash;&gt;-->\n\n        <h2><span>{{'来晚一步了，拼团已结束'}}</span></h2>\n\n        <div class=\"user\">\n          <div class=\"pic\" v-for=\"item in order_info.users\" :key=\"item.uuid\"><img :src=\"item.avatar_url\" alt=\"\"><span\n            class=\"mark\" v-if=\"item.is_initiator\">团长</span></div>\n        </div>\n      </div>\n\n\n      <div class=\"groupSuccess\" v-if=\"order_info.status == 'success'\"> <!--拼团成功-->\n        <h2><span>{{order_info.status_display}}</span></h2>\n        <div class=\"user\">\n          <div class=\"pic\" v-for=\"item in order_info.users\" :key=\"item.uuid\">\n            <img :src=\"item.avatar_url\" alt=\"\">\n            <span class=\"mark\" v-if=\"item.is_initiator\">团长</span>\n          </div>\n        </div>\n      </div>\n\n      <!--<div class=\"group_res\" v-if=\"order_info.status == 'success'\" @click=\"fillAddress\">去填地址</div>-->\n      <form :report-submit=\"true\" @submit=\"fillAddress\">\n        <button class=\"form_button\" formType=\"submit\">\n          <div class=\"group_res\" v-if=\"order_info.status == 'success'\" @click=\"fillAddress\">去提货</div>\n          <!--<div class=\"group_res\"  @click=\"fillAddress\">去提货</div>-->\n        </button>\n      </form>\n\n      <div class=\"line\"></div>\n      <div class=\"group\">\n        <h2 class=\"group-game\">拼团玩法</h2>\n        <p class=\"step1\">1.付款后邀请好友参团</p>\n        <p class=\"step2\">2.达到拼团人数，顺利开团</p>\n        <p class=\"step2\">3.若24小时内拼团不成功，全额退款</p>\n      </div>\n      <div class=\"line\"></div>\n\n      <div class=\"pjDetail\">\n        <p class=\"detailTitle\">商品详情</p>\n        <rich-text :nodes=\"order_info.group_activity.product.detail\" class=\"pjdetail\"></rich-text>\n      </div>\n\n\n    </div>\n\n    <!--------------------------------------------------------------------------->\n\n    <form :report-submit=\"true\" @submit=\"shareMenu\" v-if=\"order_info.status_display === '正在拼团'\">\n      <button class=\"form_button\" formType=\"submit\">\n        <div class=\"btn open_btn\" data-status=\"1\"><span>邀请好友一起享用</span></div>\n      </button>\n    </form>\n\n    <!---->\n\n    <form :report-submit=\"true\" @submit=\"createGroup\" v-if=\"order_info.status_display === '拼团成功'\">\n      <button class=\"form_button\" formType=\"submit\">\n        <div class=\"btn open_btn\" @click=\"createGroup\" data-status=\"1\">\n          <span>重新开团</span></div>\n      </button>\n    </form>\n\n    <div class=\"pay\" v-if=\"onekeyAttend\">\n      <div class=\"price\">\n        ¥{{order_info.group_activity.current_price}}<span\n        v-if=\"order_info.group_activity.product.num\">还剩{{order_info.group_activity.product.num}}份</span></div>\n      <div class=\"join-group\" @click=\"attendGroup\" :data-uuid=\"order_info.uuid\">一键参与</div>\n    </div>\n\n\n    <div class=\"mask\" v-if=\"showBox\" @click=\"shareMenu\">  <!-- 遮罩-->\n\n      <div class=\"meunBox\" v-if=\"showBox\">\n        <img class=\"x\" src=\"http://pbmrxkahq.bkt.clouddn.com/close.png\" alt=\"\" @click=\"shareMenu\">\n\n        <!--<div class=\"title\">分享加速抽奖</div>-->\n\n        <button class=\"friend\" open-type=\"share\">\n          <img src=\"http://pbmrxkahq.bkt.clouddn.com/wechatF.png\" alt=\"\">\n        </button>\n\n        <div class=\"createImg\" @click=\"getImg\">\n          <img src=\"http://pbmrxkahq.bkt.clouddn.com/wechatimg.png\" alt=\"\">\n        </div>\n        <div class=\"wechatFriend\" open-type=\"share\">微信好友</div>\n        <div class=\"shengchengImg\" @click=\"getImg\">生成分享图片</div>\n\n      </div>  <!--框 弹出的选择-->\n\n\n    </div>\n    <!--参团底部button-->\n\n  </div>\n</template>\n\n<script>\n  import Card from '@/components/groupCard'\n  import OldUser from '../../../components/oldUser'\n  import CountDown from 'vue2-countdown'\n  import Navbar from '@/components/navbar'\n  import {showModal} from '@/utils/util'\n  import {chooseAddress} from '@/utils/wx'\n  import config from '@/config'\n\n  export default {\n\n    data() {\n      return {\n        time: {\n          day: '',\n          hours: '',\n          minutes: '',\n          seconds: ''\n        },\n        showshare: true,\n        showModal: false,\n        groupNum: 1,\n        groupuer: [],\n        order_info: {},\n        showBox: false,\n        painting: {},\n        navbar_title: '拼团详情',\n        orderIdId: '',\n        myDetail: '',\n        scanCode: true,\n        group_activity_initial_uuid: '',\n        group_activity_initial_finish: false,\n        onekeyAttend: false,\n        host: config.host,\n        group_activity_order_uuid: '',\n        delta: 3,\n        oldUser: false,\n        group_activities_uuid: '',\n        invite: true\n\n      }\n    },\n    components: {\n      Card,\n      Navbar,\n      OldUser\n\n    },\n\n    methods: {\n      async pay() {\n//        let uuid =\n//        const paydata = this.$store.dispatch('group_pay',uuid)\n        wx.requestPayment({\n          'timeStamp': '',\n          'nonceStr': '',\n          'package': '',\n          'signType': 'MD5',\n          'paySign': '',\n          'success': function (res) {\n            console.log(res)\n          },\n          'fail': function (res) {\n            console.log(res)\n            console.log('支付错误')\n          }\n        })\n      },\n\n      async attendGroup() {\n//    一键参与 扫码或者点击分享进入\n        const that = this\n        let uuid = that.group_activity_initial_uuid\n        let auth_code = wx.getStorageSync('auth_code')\n        let uuid_authCode = [uuid, auth_code]\n//         参与拼团\n        let group_activity_orders = await that.$store.dispatch('attendGroupActivities', {...uuid_authCode})\n        console.log(group_activity_orders)\n        if (group_activity_orders) {\n\n          let group_activity_order_uuid = group_activity_orders.group_activity_order.uuid\n          that.group_activity_order_uuid = group_activity_order_uuid\n          // 支付参与拼团的订单\n          let join_res = await that.$store.dispatch('group_pay', group_activity_order_uuid)\n\n          wx.requestPayment({\n            'timeStamp': String(join_res.time_stamp),\n            'nonceStr': String(join_res.nonce_str),\n            'package': String(join_res.package),\n            'signType': String(join_res.sign_type),\n            'paySign': String(join_res.pay_sign),\n            'success': function (res) {\n              console.log(res)\n              let user = wx.getStorageSync('userinfo')\n\n              let currentUser = that.order_info.users\n              let this_user = {\n                uuid: '',\n                nick_name: user.nick_name,\n                avatar_url: user.avatar_url,\n                is_initiator: false\n              }\n              that.order_info.users.concat(this_user)\n\n\n              that.onekeyAttend = false\n\n\n            },\n            'fail': function (res) {\n              console.log(res)\n              console.log('支付错误')\n              showModal('支付失败', '请尝试重新支付')\n\n\n            }\n          })\n        } else {\n          that.oldUser = true\n\n        }\n//      console.log(group_activity_orders)// group_activity_orders = underfind ? '参与失败'：参与成功\n\n\n      },\n      oldUserValue(oldUserValue) {\n        this.oldUser = oldUserValue\n      },\n      getlastTime() {\n        let that = this\n//        console.log('倒计时')\n        let startTime = that.order_info.initial_time_timestamp\n\n        let currentTime = (new Date()).getTime()\n        let endTime = that.order_info.end_time_timestamp\n\n        let allTime = 86400000 // 倒计时24小时\n\n        let leftTime = endTime - currentTime //<864000\n\n        let day = Math.floor(leftTime / 1000 / 60 / 60 / 24) // 剩余天数\n\n        let hours = Math.floor(leftTime / 1000 / 60 / 60 % 24)\n\n        let minutes = Math.floor(leftTime / 1000 / 60 % 60)\n\n        let seconds = Math.floor(leftTime / 1000 % 60)\n\n        that.time.day = day\n        that.time.hours = hours\n        that.time.minutes = minutes\n        that.time.seconds = seconds\n\n        var param = setTimeout(that.getlastTime, 1000)\n        if (leftTime <= 0) {\n//          showModal('拼团结束', '活动结束了')\n          leftTime = 0\n          clearTimeout(param)\n        }\n\n\n      },\n      share() {\n        let that = this\n        that.showshare = !that.showshare\n//\n      },\n      setModalStatus: function (e) {\n        console.log(this.showModal)\n        let that = this\n        console.log('设置显示状态，1显示0不显示', e.currentTarget.dataset.status)\n        console.log(e.currentTarget.dataset)\n\n        var animation = wx.createAnimation({\n          duration: 200,\n          timingFunction: 'linear',\n          delay: 0\n        })\n\n        that.animation = animation\n\n        animation.translateY(300).step()\n\n        that.animationData = animation.export()\n\n        console.log(' animation.translateY(300).step()')\n\n        if (e.currentTarget.dataset.status === '1') {\n          console.log('这个是status = 1')\n          that.showModal = true\n          console.log('这个时候应该显示' + that.showModal)\n        } else if (e.currentTarget.dataset.status === '0') {\n          console.log('这个是status = 0')\n\n          that.showModal = false\n        }\n        setTimeout(function () {\n          animation.translateY(0).step()\n\n          that.animationData = animation\n        }, 200)\n      },\n\n      shareMenu(e) {\n\n        this.showBox = !this.showBox\n      },\n\n      async getImg() {\n        let that = this\n        let uuid = that.group_activity_initial_uuid\n        let page = 'pages/isme/index'\n        let data = [uuid, page]\n        let res = await this.$store.dispatch('wxCode', {...data})\n\n        let wxCodeImg = res.wxa_qrcode_url\n//        if(wxCodeImg)\n\n        let titleContent = that.order_info.group_activity.title\n        let title_left = 25\n        if (titleContent.length > 13) {\n          titleContent = titleContent.substring(0, 12)\n        } else {\n          titleContent = titleContent\n        }\n        this.painting = {\n          width: 375,\n          height: 557,\n          clear: true,\n          views: [\n\n//            绘制白色背景\n            {\n              type: 'rect',\n              background: '#fff',\n              top: 0,\n              left: 0,\n              width: 375,\n              height: 557\n            },\n\n            //            绘制的头图\n            {\n              type: 'image',\n              url: that.order_info.group_activity.title_image_url,                  // 变化图片\n              top: 0,\n              left: 0,\n              width: 375,\n              height: 173\n            },\n            //            绘制的背景图\n\n// http://p15hnzxrp.bkt.clouddn.com/wechatapp2.5.jpg\n            // 文本表达\n            {\n              type: 'text',\n              content: titleContent,                                                             // 变量的名称\n              fontSize: 27.6,\n              lineHeight: 27.6,\n              color: '#454553',\n              textAlign: 'left',\n              top: 217.35,\n              left: title_left,\n              width: 328.9,\n              MaxLineNumber: 2,                                                                         // 最大两行 超出...\n              breakWord: true,  // 换行\n              bolder: true  // 加粗\n            },\n\n            {\n              type: 'text',\n              content: that.order_info.group_activity.group_type,                                                                                // 变量的价格\n              fontSize: 18.4,\n              color: '#f83713',\n              textAlign: 'left',\n              top: 255,\n              left: 25,\n              bolder: false\n            },\n            {\n              type: 'text',\n              content: '¥',\n              fontSize: 18.4,\n              color: '#f83713',\n              textAlign: 'left',\n              top: 257,\n              left: 90                                                                      // 根据价格字符个数 变化\n            },\n            {\n              type: 'text',\n              content: that.order_info.group_activity.current_price,                                                                       // 根据价格字符个数 变化\n              fontSize: 18.4,\n              color: '#f83713',\n              textAlign: 'left',\n              top: 257,\n              left: 105                                                                     // 根据价格字符个数 变化\n//              textDecoration: 'line-through'\n            },\n\n            {\n              type: 'text',\n              content: '拼团价',                                                                       // 根据价格字符个数 变化\n              fontSize: 14,\n              color: '#f83713',\n              textAlign: 'left',\n              top: 261,\n              left: 150                                                                     // 根据价格字符个数 变化\n//              textDecoration: 'line-through'\n            },\n\n            {\n              type: 'text',\n              content: '¥' + that.order_info.group_activity.original_price,                                                                       // 根据价格字符个数 变化\n              fontSize: 11.5,\n              color: '#999999',\n              textAlign: 'left',\n              top: 265,\n              left: 195,                                                                    // 根据价格字符个数 变化\n              textDecoration: 'line-through'\n            },\n\n            {\n              type: 'text',\n              content: '参团仅限新用户哦~',\n              fontSize: 18.4,\n              color: '#4a4a4a',\n              textAlign: 'left',\n              top: 300,\n              left: 25,\n              lineHeight: 18.4,\n              MaxLineNumber: 2,\n              breakWord: true,\n              width: 157\n            },\n            {\n              type: 'image',\n              url: wxCodeImg,\n              top: 345 * 1.15,\n              left: 121 * 1.15,\n              width: 84 * 1.15,\n              height: 84 * 1.15\n            },\n            {\n              type: 'text',\n              content: '长按识别，参与拼团',\n              fontSize: 16.1,\n              color: '#4a4a4a',\n              textAlign: 'left',\n              top: 439 * 1.15,\n              left: 100 * 1.15,\n              lineHeight: 14 * 1.15,\n              MaxLineNumber: 2,\n              breakWord: true,\n              width: 156 * 1.15\n            }\n\n          ]\n        }\n        wx.setStorageSync('painting', this.painting)\n        wx.navigateTo({\n          url: '/pages/poster/main'\n        })\n      },\n      async fillAddress(e) {\n        console.log('领奖')\n        let that = this\n        let data = []\n        let uuid = that.order_info.group_activity_order.uuid //拼团订单\n        let order_status = that.order_info.status // success grouping init failed\n        let form_id = e.mp.detail.formId\n        if (order_status === 'success') {\n          let res = await chooseAddress()\n          let auth_code = wx.getStorageSync('auth_code')\n          let address = {\n            name: res.name,            // 名字\n            postal_code: res.postalCode, // 邮编\n            tel_phone: res.telNumber, // 电话\n            province: res.provinceName, // 省\n            city: res.cityName, // 市\n            district: res.countyName, // 区\n            detail: res.detailInfo// 详细\n\n          }\n\n          data = [uuid, auth_code, address]\n          let address_res = await that.$store.dispatch('groupAddress', {...data})\n          wx.navigateTo({\n            url: `/pages/user/myGroup/myGroupDetail/main?uuid=${uuid}`\n          })\n        } else {\n          console.log('order_status 不是success')\n        }\n      },\n      createGroup() {\n        // 重新开团\n        wx.switchTab({\n          url: `/pages/home/main`\n        })\n      },\n      async getOrderData() {\n        //获取页面数据函数\n      }\n\n    },\n    async onLoad(options) {\n      var that = this\n      let attend = options.attend\n      let group_activity_initial_uuid = options.group_activity_initial_uuid // 发起拼团活动返回订单uuid\n      let group_activities_uuid = options.group_activities_uuid\n\n      that.group_activities_uuid = group_activities_uuid\n      console.log(that.group_activities_uuid)\n\n      that.group_activity_initial_uuid = group_activity_initial_uuid\n\n      let currentuser_code = wx.getStorageSync('auth_code')\n      let uuid_authCode = [group_activity_initial_uuid, currentuser_code]\n\n      let orderData = await that.$store.dispatch('groupActivitiesInit', {...uuid_authCode})\n\n      let order_user = orderData.group_activity_initial.users // []\n\n      let left_user = orderData.group_activity_initial.users_left // number\n\n      let group_user_require = orderData.group_activity_initial.group_user_require\n      let left_num = group_user_require - order_user.length //还需的「\n      console.log(group_user_require,)\n      console.log(left_num)\n      for (var i = 0; i < left_num; i++) {\n        order_user.push({})\n      }\n\n      orderData.group_activity_initial.users = order_user\n\n      if (orderData.group_activity_initial.is_initiator === false && orderData.group_activity_initial.status_display === '正在拼团') {\n        that.onekeyAttend = true\n      } else if (orderData.group_activity_initial.is_initiator === true && orderData.group_activity_initial.status_display === '正在拼团') {\n        that.onekeyAttend = false\n\n      }\n\n      that.order_info = orderData.group_activity_initial\n\n\n      that.getlastTime()\n    },\n    async mounted() {\n\n    },\n    onShareAppMessage(res) {\n      var that = this\n      let uuid = that.group_activity_initial_uuid\n\n      if (res.from === 'button') {\n        // 来自页面内转发按钮\n        console.log(res.target)\n      }\n      return {\n        title: '耽误你10秒，帮我看看这个东西好不好',\n        path: `/pages/groupPj/order/main?group_activity_initial_uuid=${uuid}`,\n//        imageUrl: that.order_info.group_activity.title_image_url\n        // 参与拼团的页面\n      }\n    }\n  }\n</script>\n<style lang=\"scss\" scoped>\n  .container {\n    font-family: \"PingFang SC\";\n    font-weight: Regular;\n    text-align: left;\n    background: #f7f7f7;\n  }\n\n  .order-info {\n\n  }\n\n  .detail-order {\n    border: 1px solid #fff;\n    background: #fff;\n    margin-top: 9px;\n\n    h2 {\n      min-width: 176px;\n      height: 16px;\n      line-height: 16px;\n      font-family: PingFangSC-Medium;\n      font-size: 16px;\n      color: #454553;\n      margin: 21px 174px auto 25px;\n      .refund {\n        display: none;\n      }\n    }\n  ;\n    .order-info .text {\n      /*width: 215px;*/\n      height: 14px;\n      line-height: 14px;\n      font-family: PingFangSC-Regular;\n      font-size: 14px;\n      color: #454553;\n      margin: 15px 100px auto 25px;\n      span {\n        color: #e8724b;\n      }\n    }\n  ;\n    .user {\n      /*border:1px solid #000;*/\n      /*height: 50px;*/\n      /*margin-top: 25px;*/\n      /*margin-left: 25px;*/\n      width:325px;\n      margin: 25px auto 0;\n\n\n\n      .pic {\n        width: 34px;\n        height: 34px;\n        display: inline-block;\n        position: relative;\n        background-image: url(\"http://p15hnzxrp.bkt.clouddn.com/oval.png\");\n        background-size: cover;\n        border-radius: 50%;\n        margin-right: 15px;\n        img {\n          width: 34px;\n          height: 34px;\n          border-radius: 50%;\n          /*margin: ;*/\n        }\n      ;\n        span {\n          width: 32px;\n          height: 16px;\n\n          background: #ff7f4f;\n          border-radius: 23px;\n          text-align: center;\n          color: #fff;\n          position: absolute;\n          top: 26px;\n          left: 1px;\n          font-size: 10px;\n          letter-spacing: 0.1px;\n\n        }\n      }\n    ;\n\n\n    }\n\n    .groupFailed {\n      h2 {\n        /*border:1px solid #000;*/\n        margin: 21px auto 25px;\n        text-align: center;\n        color: #333;\n      }\n    ;\n      .user {\n        /*border:1px solid #000;*/\n        /*height: 50px;*/\n\n        margin-left: 0;\n        margin-bottom: 20px;\n\n        display: flex;\n        justify-content: center;\n        flex-wrap: wrap;\n        align-content: center;\n\n        .pic:first-child {\n          margin-left: 17px;\n\n        }\n\n      }\n\n    }\n  ;\n\n  }\n\n  /*.user .pic*/\n\n  .group_res {\n    width: 180px;\n    height: 40px;\n    line-height: 40px;\n    text-align: center;\n    background: rgb(252, 87, 75);\n    box-shadow: 0 0 8px 0 rgba(255, 127, 79, 0.4);\n    margin: 0 auto;\n    font-family: PingFangSC-Medium;\n    font-size: 16px;\n    color: #fff\n  }\n\n  .line {\n    width: 325px;\n    height: 1px;\n    /*border: 1px solid #000;*/\n    background: #f7f7f7;\n    margin: 20px auto;\n  }\n\n  .group {\n    width: 100%;\n    margin-top: -10px;\n    h2 {\n      width: 64px;\n      height: 22px;\n      line-height: 22px;\n      font-family: PingFangSC-Medium;\n      font-size: 16px;\n      color: #333;\n    }\n  ;\n    p {\n      width: 325px;\n      font-family: PingFangSC-Regular;\n\n      font-size: 12px;\n      color: #4a4a4a;\n      margin: 0 auto;\n      /*border: 1px solid #000;*/\n    }\n\n  }\n\n  .pjDetail {\n    width: 325px;\n    font-family: PingFangSC-Regular;\n\n    font-size: 12px;\n    color: #4a4a4a;\n    text-align: left;\n    margin: 0 auto 68px;\n    /*border:1px solid #000;*/\n    .detailTitle {\n      width: 64px;\n      height: 22px;\n      line-height: 22px;\n      font-family: PingFangSC-Medium;\n      font-size: 16px;\n      color: #333;\n      /*border:1px solid #000;*/\n      margin-top: -5px;\n      /*float: left;*/\n\n    }\n  }\n\n  .share {\n    width: 180px;\n    height: 42px;\n    line-height: 42px;\n    margin: 4px auto;\n    text-align: center;\n    font-size: 18px;\n    background: #8E7373;\n  }\n\n  .share-box {\n    width: 350px;\n    height: 200px;\n    margin: 0 auto;\n    border: 1px solid #C8C8CD;\n  }\n\n  /*--------------------------------*/\n  .drawer_screen {\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background: #000;\n    opacity: 0.2;\n    overflow: hidden;\n    z-index: 1000;\n    color: #fff;\n  }\n\n  .drawer_attr_box {\n    width: 100%;\n    overflow: hidden;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    z-index: 2000;\n    background: #fff;\n  }\n\n  .close_icon {\n    width: 12.5px;\n    height: 12.5px;\n    line-height: 10px;\n    font-size: 15px;\n    position: absolute;\n    right: 2.5px;\n    top: 2.5px;\n    z-index: 101;\n    padding: 5px;\n    color: #ccc;\n    border: 1px solid #ccc;\n    border-radius: 50%;\n    text-align: center;\n    background: #fff;\n  }\n\n  .drawer_attr_content {\n    padding: 10px;\n    height: 300px;\n    overflow-y: scroll;\n  }\n\n  .drawer_image {\n    width: 200px;\n    height: 200px;\n  }\n\n  .drawer_desc {\n    font-size: 13px;\n    margin: 10px;\n  }\n\n  .btn {\n\n    text-align: center;\n    width: 375px;\n    height: 60px;\n    background: #fff;\n    box-shadow: 0 -2px 8px #ededed;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    z-index: 100;\n    padding: 0;\n    margin: 0;\n    /*border: 1px solid #000;*/\n\n  }\n\n  .btn span {\n\n    width: 325px;\n    height: 44px;\n    line-height: 44px;\n    background: #ff7f4f;\n    border-radius: 22px;\n    display: block;\n    box-shadow: 0 0 8px #ff7f47;\n    margin-left: 25px;\n    margin-top: 8px;\n    font-family: PingFangSC-Medium;\n    font-size: 16px;\n    color: #fff;\n  }\n\n  .mask {\n    position: fixed;\n    z-index: 100;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    background: rgba(0, 0, 0, 0.4);\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-end;\n    flex-direction: column;\n  }\n\n  .meunBox {\n    width: 375px;\n    height: 230px;\n    background: #fff;\n    position: relative;\n    z-index: 1000;\n    .title {\n      width: 102px;\n      height: 24px;\n      font-size: 17px;\n      line-height: 24px;\n      color: #333;\n      position: absolute;\n      top: 56px;\n      left: 137px;\n\n    }\n  ;\n    .friend, .createImg {\n      display: inline-block;\n\n      width: 60px;\n      height: 60px;\n      border-radius: 50%;\n      border: 1px solid #eee;\n      box-sizing: border-box;\n\n    }\n  ;\n    p {\n      height: 20px;\n      font-size: 14px;\n      color: #666;\n\n    }\n  ;\n    .friend {\n      display: inline-block;\n      position: absolute;\n      top: 78px;\n      left: 80px;\n      /*border: 1px solid #000;*/\n    }\n  ;\n    .createImg {\n      position: absolute;\n      top: 78px;\n      right: 80px;\n    }\n\n    /*border: 1px solid #ff7f4f;*/\n\n  }\n\n  button::after {\n    border: none;\n  }\n\n  .createImg img {\n\n    width: 24px;\n    height: 24px;\n    margin: 17px;\n    /*border: 1px solid #000;*/\n\n  }\n\n  .friend {\n    position: relative;\n    background: #fff;\n  }\n\n  .friend img {\n    width: 24px;\n    height: 24px;\n    position: absolute;\n    top: 17px;\n    left: 17px;\n    /*display: none;*/\n\n  }\n\n  .wechatFriend {\n    /*background: none;*/\n    /*border: 1px solid #000;*/\n    display: inline-block;\n    position: absolute;\n    top: 156px;\n    left: 82px;\n    font-size: 14px;\n    color: #666;\n  }\n\n  .shengchengImg {\n    position: absolute;\n    top: 156px;\n    right: 68px;\n    font-size: 14px;\n    color: #666;\n  }\n\n  .x {\n    /*border: 1px solid #000;*/\n    width: 15px;\n    height: 15px;\n    position: absolute;\n    top: 15px;\n    right: 15px;\n\n  }\n\n  /*参团底部button*/\n\n  .pay {\n    width: 100%;\n    height: 60px;\n    background: #fff;\n    /*border-top: 1px solid #000;*/\n    box-shadow: 0 -2px 8px #ededed;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    z-index: 100;\n    /*border: 1px solid red;*/\n    .price {\n      display: inline-block;\n\n      min-width: 90px;\n      height: 25px;\n      line-height: 25px;\n      color: #f7412d;\n      background: #fff;\n      font-size: 18px;\n      text-align: left;\n\n      margin-left: 25px;\n      margin-top: 18px;\n\n      /*border:1px solid #000;*/\n\n      span {\n        font-size: 12px;\n        color: #999;\n      }\n\n    }\n  ;\n    .join-group {\n      display: inline-block;\n      width: 140px;\n      height: 44px;\n      line-height: 44px;\n      border-radius: 22px 22px 22px 22px;\n      background: #ff7f4f;\n      box-shadow: 0 0 8px #ff7f4f;\n      text-align: center;\n      font-weight: Medium;\n      margin-top: 8px;\n      margin-left: 95px;\n\n      font-family: PingFangSC-Medium;\n      font-size: 16px;\n      color: #fff;\n      /*border:1px solid blue;*/\n    }\n\n  }\n\n  /*-----------*/\n  .wrap {\n    height: 125px;\n    background: #fff;\n    border: 0.5px solid #fff;\n\n  }\n\n  .pj-info {\n\n    /*border: 1px solid #000;*/\n\n    width: 325px;\n    height: 84px;\n    margin: 21px auto 20px;\n  }\n\n  .pj-info .left {\n    display: inline-block;\n    width: 80px;\n    height: 80px;\n    margin-top: 4px;\n    border-radius: 5px;\n\n  }\n\n  .left img {\n    width: 80px;\n    height: 80px;\n    margin-right: 0;\n    border-radius: 5px;\n\n  }\n\n  .pj-info .right {\n    position: relative;\n    display: inline-block;\n    height: 84px;\n    width: 225px;\n\n    /*border:1px solid #000;*/\n\n  }\n\n  .right h2 .group_mark {\n    width: 50px;\n    height: 20px;\n    line-height: 20px;\n    text-align: center;\n    font-family: PingFangSC-Regular;\n    font-size: 11px;\n    color: #ff7f4f;\n    border: 1px solid #ff7f4f;\n    display: inline-block;\n    margin-right: 10px;\n    /*transform:rotate(-42deg);*/\n\n    /*position: absolute;*/\n    /*top:0px;*/\n    /*left: 0px;*/\n  }\n\n  .right h2 {\n    display: inline-block;\n    font-size: 20px;\n    font-family: PingFangSC-Medium;\n    color: #333;\n\n    /*border:1px solid #000;*/\n    /*margin-left: 60px;*/\n\n  }\n\n  .right p {\n    /*border: 1px solid #000;*/\n    margin-top: 13px;\n  }\n\n  .right p span {\n    display: inline-block;\n    margin-left: 5px;\n  }\n\n  .right p span:nth-child(1) {\n    font-size: 20px;\n    color: #f83713;\n    /*font-weight: Medium;*/\n    font-family: PingFangSC-Medium;\n\n  }\n\n  /*.right p span:nth-child(2){*/\n  /*font-size: 12px; color: #D0021B;*/\n  /*font-weight: Regular;*/\n\n  /*}*/\n  .right p span:nth-child(2) {\n    font-size: 10px;\n    color: #999;\n    font-family: PingFangSC-Regular;\n    text-decoration: line-through;\n  }\n\n  form {\n    border: none;\n    display: block;\n    button {\n      display: block;\n      background: none;\n      margin: 0 auto;\n      border: none;\n\n    }\n  ;\n    button::after {\n      border-radius: 0;\n      border: none;\n\n    }\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/groupPj/order/index.vue?7baa0d81","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-b3a874ec\",\"scoped\":true,\"hasInlineConfig\":false}!./~/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./~/postcss-loader/lib?{\"sourceMap\":true}!./~/sass-loader/lib/loader.js?{\"sourceMap\":false}!./~/mpvue-loader/lib/selector.js?type=styles&index=0!./src/pages/groupPj/order/index.vue\n// module id = 183\n// module chunks = 4","var disposed = false\nvar normalizeComponent = require(\"!../../mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../mpvue-loader/lib/selector?type=script&index=0!./vue2-countdown.vue\"\n/* template */\nimport __vue_template__ from \"!!../../mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-eeaf0e42\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../mpvue-loader/lib/selector?type=template&index=0!./vue2-countdown.vue\"\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"node_modules/vue2-countdown/lib/vue2-countdown.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] vue2-countdown.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-eeaf0e42\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-eeaf0e42\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue2-countdown/lib/vue2-countdown.vue\n// module id = 188\n// module chunks = 4","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"container\"\n  }, [_c('Navbar', {\n    attrs: {\n      \"navbar_title\": _vm.navbar_title,\n      \"delta\": _vm.delta,\n      \"mpcomid\": '0'\n    }\n  }), _vm._v(\" \"), (_vm.oldUser) ? _c('OldUser', {\n    attrs: {\n      \"group_activities_uuid\": _vm.group_activities_uuid,\n      \"eventid\": '0',\n      \"mpcomid\": '1'\n    },\n    on: {\n      \"oldUserValue\": _vm.oldUserValue\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"wrap\"\n  }, [_c('div', {\n    staticClass: \"pj-info\"\n  }, [_c('div', {\n    staticClass: \"left\"\n  }, [_c('div', {\n    staticClass: \"bg\",\n    style: ({\n      width: '100%',\n      height: '100%',\n      backgroundImage: 'url(' + _vm.order_info.group_activity.title_image_url + ')',\n      backgroundSize: 'cover',\n      backgroundPosition: '50%'\n    })\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"right\"\n  }, [_c('h2', [_c('div', {\n    staticClass: \"group_mark\"\n  }, [_vm._v(_vm._s(_vm.order_info.group_activity.group_type))]), _vm._v(\"\\n          \" + _vm._s(_vm.order_info.group_activity.title) + \"\\n        \")]), _vm._v(\" \"), _c('p', [_c('span', [_vm._v(\"¥ \" + _vm._s(_vm.order_info.group_activity.current_price))]), (_vm.order_info.group_activity.original_price) ? _c('span', [_vm._v(\"¥\" + _vm._s(_vm.order_info.group_activity.original_price))]) : _vm._e()])], 1)])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"detail-order\"\n  }, [(_vm.order_info.status == 'grouping') ? _c('div', {\n    staticClass: \"grouping\"\n  }, [_c('h2', [_c('span', [_vm._v(_vm._s(_vm.order_info.status_display))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"order-info\"\n  }, [_c('div', {\n    staticClass: \"text\"\n  }, [_vm._v(\"还差\"), _c('span', [_vm._v(_vm._s(_vm.order_info.users_left))]), _vm._v(\"人参团,\\n          \"), _c('span', [_vm._v(_vm._s(_vm.time.hours))]), _vm._v(\"时\\n          \"), _c('span', [_vm._v(_vm._s(_vm.time.minutes))]), _vm._v(\"分\\n          \"), _c('span', [_vm._v(_vm._s(_vm.time.seconds))]), _vm._v(\"秒后结束\\n        \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user\"\n  }, _vm._l((_vm.order_info.users), function(item, index) {\n    return _c('div', {\n      key: item.uuid,\n      staticClass: \"pic\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": item.avatar_url,\n        \"alt\": \"\"\n      }\n    }), (item.is_initiator) ? _c('span', {\n      staticClass: \"mark\"\n    }, [_vm._v(\"团长\")]) : _vm._e()])\n  }))], 1) : _vm._e(), _vm._v(\" \"), (_vm.order_info.status == 'failed') ? _c('div', {\n    staticClass: \"groupFailed\"\n  }, [_c('h2', [_c('span', [_vm._v(_vm._s('来晚一步了，拼团已结束'))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user\"\n  }, _vm._l((_vm.order_info.users), function(item, index) {\n    return _c('div', {\n      key: item.uuid,\n      staticClass: \"pic\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": item.avatar_url,\n        \"alt\": \"\"\n      }\n    }), (item.is_initiator) ? _c('span', {\n      staticClass: \"mark\"\n    }, [_vm._v(\"团长\")]) : _vm._e()])\n  }))], 1) : _vm._e(), _vm._v(\" \"), (_vm.order_info.status == 'success') ? _c('div', {\n    staticClass: \"groupSuccess\"\n  }, [_c('h2', [_c('span', [_vm._v(_vm._s(_vm.order_info.status_display))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"user\"\n  }, _vm._l((_vm.order_info.users), function(item, index) {\n    return _c('div', {\n      key: item.uuid,\n      staticClass: \"pic\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": item.avatar_url,\n        \"alt\": \"\"\n      }\n    }), _vm._v(\" \"), (item.is_initiator) ? _c('span', {\n      staticClass: \"mark\"\n    }, [_vm._v(\"团长\")]) : _vm._e()])\n  }))], 1) : _vm._e(), _vm._v(\" \"), _c('form', {\n    attrs: {\n      \"report-submit\": true,\n      \"eventid\": '2'\n    },\n    on: {\n      \"submit\": _vm.fillAddress\n    }\n  }, [_c('button', {\n    staticClass: \"form_button\",\n    attrs: {\n      \"formType\": \"submit\"\n    }\n  }, [(_vm.order_info.status == 'success') ? _c('div', {\n    staticClass: \"group_res\",\n    attrs: {\n      \"eventid\": '1'\n    },\n    on: {\n      \"click\": _vm.fillAddress\n    }\n  }, [_vm._v(\"去提货\")]) : _vm._e()])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"group\"\n  }, [_c('h2', {\n    staticClass: \"group-game\"\n  }, [_vm._v(\"拼团玩法\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"step1\"\n  }, [_vm._v(\"1.付款后邀请好友参团\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"step2\"\n  }, [_vm._v(\"2.达到拼团人数，顺利开团\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"step2\"\n  }, [_vm._v(\"3.若24小时内拼团不成功，全额退款\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"line\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"pjDetail\"\n  }, [_c('p', {\n    staticClass: \"detailTitle\"\n  }, [_vm._v(\"商品详情\")]), _vm._v(\" \"), _c('rich-text', {\n    staticClass: \"pjdetail\",\n    attrs: {\n      \"nodes\": _vm.order_info.group_activity.product.detail,\n      \"mpcomid\": '2'\n    }\n  })], 1)], 1), _vm._v(\" \"), (_vm.order_info.status_display === '正在拼团') ? _c('form', {\n    attrs: {\n      \"report-submit\": true,\n      \"eventid\": '3'\n    },\n    on: {\n      \"submit\": _vm.shareMenu\n    }\n  }, [_c('button', {\n    staticClass: \"form_button\",\n    attrs: {\n      \"formType\": \"submit\"\n    }\n  }, [_c('div', {\n    staticClass: \"btn open_btn\",\n    attrs: {\n      \"data-status\": \"1\"\n    }\n  }, [_c('span', [_vm._v(\"邀请好友一起享用\")])])])], 1) : _vm._e(), _vm._v(\" \"), (_vm.order_info.status_display === '拼团成功') ? _c('form', {\n    attrs: {\n      \"report-submit\": true,\n      \"eventid\": '5'\n    },\n    on: {\n      \"submit\": _vm.createGroup\n    }\n  }, [_c('button', {\n    staticClass: \"form_button\",\n    attrs: {\n      \"formType\": \"submit\"\n    }\n  }, [_c('div', {\n    staticClass: \"btn open_btn\",\n    attrs: {\n      \"data-status\": \"1\",\n      \"eventid\": '4'\n    },\n    on: {\n      \"click\": _vm.createGroup\n    }\n  }, [_c('span', [_vm._v(\"重新开团\")])])])], 1) : _vm._e(), _vm._v(\" \"), (_vm.onekeyAttend) ? _c('div', {\n    staticClass: \"pay\"\n  }, [_c('div', {\n    staticClass: \"price\"\n  }, [_vm._v(\"\\n      ¥\" + _vm._s(_vm.order_info.group_activity.current_price)), (_vm.order_info.group_activity.product.num) ? _c('span', [_vm._v(\"还剩\" + _vm._s(_vm.order_info.group_activity.product.num) + \"份\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"join-group\",\n    attrs: {\n      \"data-uuid\": _vm.order_info.uuid,\n      \"eventid\": '6'\n    },\n    on: {\n      \"click\": _vm.attendGroup\n    }\n  }, [_vm._v(\"一键参与\")])]) : _vm._e(), _vm._v(\" \"), (_vm.showBox) ? _c('div', {\n    staticClass: \"mask\",\n    attrs: {\n      \"eventid\": '10'\n    },\n    on: {\n      \"click\": _vm.shareMenu\n    }\n  }, [(_vm.showBox) ? _c('div', {\n    staticClass: \"meunBox\"\n  }, [_c('img', {\n    staticClass: \"x\",\n    attrs: {\n      \"src\": \"http://pbmrxkahq.bkt.clouddn.com/close.png\",\n      \"alt\": \"\",\n      \"eventid\": '7'\n    },\n    on: {\n      \"click\": _vm.shareMenu\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"friend\",\n    attrs: {\n      \"open-type\": \"share\"\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": \"http://pbmrxkahq.bkt.clouddn.com/wechatF.png\",\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"createImg\",\n    attrs: {\n      \"eventid\": '8'\n    },\n    on: {\n      \"click\": _vm.getImg\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": \"http://pbmrxkahq.bkt.clouddn.com/wechatimg.png\",\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"wechatFriend\",\n    attrs: {\n      \"open-type\": \"share\"\n    }\n  }, [_vm._v(\"微信好友\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"shengchengImg\",\n    attrs: {\n      \"eventid\": '9'\n    },\n    on: {\n      \"click\": _vm.getImg\n    }\n  }, [_vm._v(\"生成分享图片\")])], 1) : _vm._e()]) : _vm._e()], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-b3a874ec\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-b3a874ec\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/mpvue-loader/lib/selector.js?type=template&index=0!./src/pages/groupPj/order/index.vue\n// module id = 215\n// module chunks = 4","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [(_vm.msTime.show) ? _c('p', [(_vm.msTime.day > 0) ? _c('span', [_c('span', [_vm._v(_vm._s(_vm.msTime.day))]), _c('i', [_vm._v(_vm._s(_vm.dayTxt))])], 1) : _vm._e(), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.msTime.hour))]), _c('i', [_vm._v(_vm._s(_vm.hourTxt))]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.msTime.minutes))]), _c('i', [_vm._v(_vm._s(_vm.minutesTxt))]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(_vm.msTime.seconds))]), _c('i', [_vm._v(_vm._s(_vm.secondsTxt))])], 1) : _vm._e()], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-eeaf0e42\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-eeaf0e42\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/mpvue-loader/lib/selector.js?type=template&index=0!./~/vue2-countdown/lib/vue2-countdown.vue\n// module id = 219\n// module chunks = 4","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b3a874ec\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!sass-loader?{\\\"sourceMap\\\":false}!../../../../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/mpvue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b3a874ec\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../node_modules/mpvue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b3a874ec\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/groupPj/order/index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-b3a874ec\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-b3a874ec\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/groupPj/order/index.vue\n// module id = 65\n// module chunks = 4","import Vue from 'vue';\nimport groupDetail from './index';\n\nvar app = new Vue(groupDetail);\napp.$mount();\n\nexport default {\n  config: {\n    enablePullDownRefresh: false\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/pages/groupPj/order/main.js","<template>\n  <div>\n    <p v-if=\"msTime.show\">\n      <!--<span v-if=\"tipShow\">{{tipText}}:</span>-->\n      <!--<span v-if=\"!tipShow\">{{tipTextEnd}}:</span>-->\n      <span v-if=\"msTime.day>0\"><span>{{msTime.day}}</span><i>{{dayTxt}}</i></span>\n      <span>{{msTime.hour}}</span><i>{{hourTxt}}</i>\n      <span>{{msTime.minutes}}</span><i>{{minutesTxt}}</i>\n      <span>{{msTime.seconds}}</span><i>{{secondsTxt}}</i>\n    </p>\n    <!--<p v-if=\"!msTime.show\">{{endText}}</p>-->\n  </div>\n</template>\n<script>\n  export default {\n    replace: true,\n    data () {\n      return {\n        tipShow: true,\n        msTime: {\t\t\t//倒计时数值\n          show: false,\t\t//倒计时状态\n          day: '',\t\t\t//天\n          hour: '',\t\t//小时\n          minutes: '',\t\t//分钟\n          seconds: ''\t\t//秒\n        },\n        star: '',\t\t\t//活动开始时间\n        end: '',\t\t\t\t//活动结束时间\n        current: '',         //当前时间\n      }\n    },\n    watch: {\n      currentTime: function (val, oldval) {\n        this.gogogo();\n      }\n    },\n    props: {\n      //距离开始提示文字\n      tipText: {\n        type: String,\n        default: '距离开始'\n      },\n      //距离结束提示文字\n      tipTextEnd: {\n        type: String,\n        default: '距离结束'\n      },\n      //时间控件ID\n      id: {\n        type: String,\n        default: '1'\n      },\n      //当前时间\n      currentTime: {\n        type: Number\n      },\n      // 活动开始时间\n      startTime: {\n        type: Number\n      },\n      // 活动结束时间\n      endTime: {\n        type: Number\n      },\n      // 倒计时结束显示文本\n      endText: {\n        type: String,\n        default: '已结束'\n      },\n      //自定义显示文字:天\n      dayTxt: {\n        type: String,\n        default: ':'\n      },\n      //自定义显示文字:时\n      hourTxt: {\n        type: String,\n        default: ':'\n      },\n      //自定义显示文字:分\n      minutesTxt: {\n        type: String,\n        default: ':'\n      },\n      secondsTxt: {\n        type: String,\n        default: ':'\n      },\n      //是否开启秒表倒计，未完成\n      secondsFixed: {\n        type: Boolean,\n        default: false\n      },\n    },\n    mounted () {\n      console.log(this)\n      this.gogogo();\n    },\n    methods: {\n      gogogo: function () {\n        //判断是秒还是毫秒\n        this.startTime.toString().length == 10 ? this.star = this.startTime * 1000 : this.star = this.startTime;\n        this.endTime.toString().length == 10 ? this.end = this.endTime * 1000 : this.end = this.endTime;\n        if (this.currentTime) {\n          this.currentTime.toString().length == 10 ? this.current = this.currentTime * 1000 : this.current = this.currentTime;\n        } else {\n          this.current = ( new Date() ).getTime();\n        }\n\n        if (this.end < this.current) {\n          /**\n           * 结束时间小于当前时间 活动已结束\n           */\n          this.msTime.show = false;\n          this.end_message();\n        }\n        else if (this.current < this.star) {\n          /**\n           * 当前时间小于开始时间 活动尚未开始\n           */\n          this.$set(this, 'tipShow', true);\n          setTimeout(() => {\n            this.runTime(this.star, this.current, this.start_message);\n          }, 1);\n        }\n        else if (this.end > this.current && this.star < this.current || this.star == this.current) {\n          /**\n           * 结束时间大于当前并且开始时间小于当前时间，执行活动开始倒计时\n           */\n          this.$set(this, 'tipShow', false);\n          this.msTime.show = true;\n          this.$emit('start_callback', this.msTime.show);\n          setTimeout(() => {\n            this.runTime(this.end, this.star, this.end_message, true)\n          }, 1);\n        }\n      },\n      runTime (startTime, endTime, callFun, type) {\n        let msTime = this.msTime;\n        let timeDistance = startTime - endTime;\n        if (timeDistance > 0) {\n          this.msTime.show = true;\n          msTime.day = Math.floor(timeDistance / 86400000);\n          timeDistance -= msTime.day * 86400000;\n          msTime.hour = Math.floor(timeDistance / 3600000);\n          timeDistance -= msTime.hour * 3600000;\n          msTime.minutes = Math.floor(timeDistance / 60000);\n          timeDistance -= msTime.minutes * 60000;\n          //是否开启秒表倒计,未完成\n//                    this.secondsFixed ? msTime.seconds = new Number(timeDistance / 1000).toFixed(2) : msTime.seconds = Math.floor( timeDistance / 1000 ).toFixed(0);\n          msTime.seconds = Math.floor(timeDistance / 1000).toFixed(0);\n          timeDistance -= msTime.seconds * 1000;\n\n          if (msTime.hour < 10) {\n            msTime.hour = \"0\" + msTime.hour;\n          }\n          if (msTime.minutes < 10) {\n            msTime.minutes = \"0\" + msTime.minutes;\n          }\n          if (msTime.seconds < 10) {\n            msTime.seconds = \"0\" + msTime.seconds;\n          }\n          let _s = Date.now();\n          let _e = Date.now();\n          let diffPerFunc = _e - _s;\n          setTimeout(() => {\n            if (type) {\n              this.runTime(this.end, endTime += 1000, callFun, true);\n            } else {\n              this.runTime(this.star, endTime += 1000, callFun);\n            }\n          }, 1000 - diffPerFunc)\n        }\n        else {\n          callFun();\n        }\n      },\n      start_message () {\n        this.$set(this, 'tipShow', false);\n        this.$emit('start_callback', this.msTime.show);\n        setTimeout(() => {\n          this.runTime(this.end, this.star, this.end_message, true)\n        }, 1);\n      },\n      end_message(){\n        this.msTime.show = false;\n        if (this.currentTime <= 0) {\n          return;\n        }\n        this.$emit('end_callback', this.msTime.show);\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/vue2-countdown/lib/vue2-countdown.vue?af80ffa4"],"sourceRoot":""}